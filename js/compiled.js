this["Template"] = this["Template"] || {};
this["Template"]["templates"] = this["Template"]["templates"] || {};

this["Template"]["templates"]["home"] = Handlebars.template({"1":function(container,depth0,helpers,partials,data) {
    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3="function", alias4=container.escapeExpression;

  return "          <div class=\"col-4\">\r\n            <h4>"
    + alias4(((helper = (helper = helpers.value || (depth0 != null ? depth0.value : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"value","hash":{},"data":data}) : helper)))
    + " <span class=\"font-13 d-block mt-2\">"
    + alias4(((helper = (helper = helpers.state || (depth0 != null ? depth0.state : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"state","hash":{},"data":data}) : helper)))
    + "</span></h4>\r\n          </div>\r\n";
},"3":function(container,depth0,helpers,partials,data) {
    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3=container.escapeExpression;

  return "          <div class=\"col-lg-4 col-md-4\" style=\"margin-bottom:10px;\">\r\n            <div class=\"body xl-slategray text-center\">\r\n              <h2 class=\"font700\">"
    + alias3((helpers.len || (depth0 && depth0.len) || alias2).call(alias1,(depth0 != null ? depth0.surveys : depth0),{"name":"len","hash":{},"data":data}))
    + "</h2>\r\n              <span>"
    + alias3(((helper = (helper = helpers.regionName || (depth0 != null ? depth0.regionName : depth0)) != null ? helper : alias2),(typeof helper === "function" ? helper.call(alias1,{"name":"regionName","hash":{},"data":data}) : helper)))
    + "</span>\r\n            </div>\r\n          </div>\r\n";
},"5":function(container,depth0,helpers,partials,data) {
    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3="function", alias4=container.escapeExpression;

  return "          <div class=\"form-group\">\r\n            <label class=\"d-block\">"
    + alias4(((helper = (helper = helpers.category || (depth0 != null ? depth0.category : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"category","hash":{},"data":data}) : helper)))
    + "<span class=\"float-right\">"
    + alias4(((helper = (helper = helpers.percent || (depth0 != null ? depth0.percent : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"percent","hash":{},"data":data}) : helper)))
    + "</span></label>\r\n            <div class=\"progress\">\r\n              <div class=\"progress-bar progress-bar-success\" role=\"progressbar\" role=\"progressbar\" aria-valuenow=\"77\"\r\n                aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width: "
    + ((stack1 = ((helper = (helper = helpers.percent || (depth0 != null ? depth0.percent : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"percent","hash":{},"data":data}) : helper))) != null ? stack1 : "")
    + ";\"></div>\r\n            </div>\r\n          </div>\r\n";
},"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1, helper, alias1=container.lambda, alias2=depth0 != null ? depth0 : (container.nullContext || {}), alias3=helpers.helperMissing, alias4="function", alias5=container.escapeExpression;

  return "<div class=\"block-header\">\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-5 col-md-8 col-sm-12\">\r\n      <h2>Dashboard</h2>\r\n    </div>\r\n    <div class=\"col-lg-7 col-md-4 col-sm-12 text-right\">\r\n      <ul class=\"breadcrumb justify-content-end\">\r\n        <li class=\"breadcrumb-item\"><a href=\"index.html\"><i class=\"icon-home\"></i></a></li>\r\n        <li class=\"breadcrumb-item active\">Dashboard</li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<div class=\"row\">\r\n  <div class=\"col-lg-4 col-md-6 col-sm-6\">\r\n    <div class=\"card text-center\">\r\n      <div class=\"header\">\r\n        <h2>Pengguna</h2>\r\n      </div>\r\n      <div class=\"body pt-0\">\r\n        <div class=\"row\">\r\n          <div class=\"col-12 m-b-15\">\r\n            <h1><i class=\"icon-user\"></i></h1>\r\n          </div>\r\n          <div class=\"col-lg-6 col-md-6 col-sm-6\">\r\n            <h4 class=\"font-22 text-col-green font-weight-bold\">\r\n              <small class=\"font-12 text-col-dark d-block m-b-10\">Supervisor</small>\r\n              "
    + ((stack1 = alias1(((stack1 = (depth0 != null ? depth0.totalProfiles : depth0)) != null ? stack1.supervisor : stack1), depth0)) != null ? stack1 : "")
    + "\r\n            </h4>\r\n          </div>\r\n          <div class=\"col-lg-6 col-md-6 col-sm-6\">\r\n            <h4 class=\"font-22 text-col-blue font-weight-bold\">\r\n              <small class=\"font-12 text-col-dark d-block m-b-10\">Operator</small>\r\n              "
    + ((stack1 = alias1(((stack1 = (depth0 != null ? depth0.totalProfiles : depth0)) != null ? stack1.operator : stack1), depth0)) != null ? stack1 : "")
    + "\r\n            </h4>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"col-lg-8 col-md-6 col-sm-6\">\r\n    <div class=\"card\" style=\"min-height: 211px;\">\r\n      <div class=\"header\">\r\n        <h2>Analysis</h2>\r\n        <ul class=\"header-dropdown\">\r\n          <li> <a onclick=\"location.reload()\" style=\"cursor: pointer;\" data-toggle=\"cardloading\" data-loading-effect=\"pulse\"><i\r\n                class=\"icon-refresh\"></i></a></li>\r\n          <li><a href=\"javascript:void(0);\" class=\"full-screen\"><i class=\"icon-size-fullscreen\"></i></a></li>\r\n          <li class=\"dropdown\">\r\n            <a href=\"javascript:void(0);\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" role=\"button\"\r\n              aria-haspopup=\"true\" aria-expanded=\"false\"></a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"card-body\">\r\n        <div class=\"row text-center\">\r\n"
    + ((stack1 = helpers.each.call(alias2,(depth0 != null ? depth0.top3 : depth0),{"name":"each","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
    + "        </div>\r\n        <div class=\"sparkline\" data-type=\"bar\" data-offset=\"90\" data-width=\"97%\" data-height=\"50px\" data-bar-Width=\"10\"\r\n          data-bar-Spacing=\"10\" data-bar-Color=\"#7cb5ec\">\r\n          4,8,0,3,1,8,5,4,0,5,4,3,2,1,5,6,7,8,4,5,8,0,3</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"row clearfix\">\r\n  <div class=\"col-lg-8 col-md-12\">\r\n    <div class=\"card Sales_Overview\">\r\n      <div class=\"header\">\r\n        <h2>Kajiselidik keseluruhan</h2>\r\n        <ul class=\"header-dropdown\">\r\n          <li> <a onclick=\"location.reload()\" style=\"cursor: pointer;\" data-toggle=\"cardloading\" data-loading-effect=\"pulse\"><i\r\n                class=\"icon-refresh\"></i></a></li>\r\n          <li class=\"dropdown\">\r\n            <a href=\"javascript:void(0);\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" role=\"button\"\r\n              aria-haspopup=\"true\" aria-expanded=\"false\"></a>\r\n            <ul class=\"dropdown-menu dropdown-menu-right animated bounceIn\">\r\n              <li><a href=\"javascript:void(0);\">Action</a></li>\r\n              <li><a href=\"javascript:void(0);\">Another Action</a></li>\r\n              <li><a href=\"javascript:void(0);\">Something else</a></li>\r\n            </ul>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"body\">\r\n        <div id=\"Sales_Overview\" class=\"ct-chart\"></div>\r\n        <div class=\"body xl-slategray text-center\">\r\n          <div class=\"row clearfix\">\r\n            <div class=\"col-lg-4 col-md-4\">\r\n              <h2 class=\"font700\">150K</h2>\r\n              <small>17% <i class=\"fa fa-level-up text-success\"></i>\r\n                Sasaran</small>\r\n            </div>\r\n            <div class=\"col-lg-4 col-md-4\">\r\n              <h2 class=\"font700\">80K</h2>\r\n              <small>18% <i class=\"fa fa-level-down text-danger\"></i>\r\n                Survey Berjaya</small>\r\n            </div>\r\n            <div class=\"col-lg-4 col-md-4\">\r\n              <h2 class=\"font700\">9K</h2>\r\n              <small>18% <i class=\"fa fa-level-up text-success\"></i>\r\n                Fixed Sample</small>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n        <div class=\"card Sales_Overview\">\r\n      <div class=\"header\">\r\n        <h2>Jumlah Sasaran Mengikut Daerah</h2>\r\n        <ul class=\"header-dropdown\">\r\n          <li> <a onclick=\"location.reload()\" style=\"cursor: pointer;\" data-toggle=\"cardloading\" data-loading-effect=\"pulse\"><i\r\n                class=\"icon-refresh\"></i></a></li>\r\n          <li class=\"dropdown\">\r\n            <a href=\"javascript:void(0);\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" role=\"button\"\r\n              aria-haspopup=\"true\" aria-expanded=\"false\"></a>\r\n            <ul class=\"dropdown-menu dropdown-menu-right animated bounceIn\">\r\n              <li><a href=\"javascript:void(0);\">Action</a></li>\r\n              <li><a href=\"javascript:void(0);\">Another Action</a></li>\r\n              <li><a href=\"javascript:void(0);\">Something else</a></li>\r\n            </ul>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"body\">\r\n        <div id=\"Sales_Overview\" class=\"ct-chart\"></div>\r\n        <div class=\"row\">\r\n"
    + ((stack1 = helpers.each.call(alias2,(depth0 != null ? depth0.size : depth0),{"name":"each","hash":{},"fn":container.program(3, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
    + "        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"col-lg-4 col-md-12\">\r\n    <div class=\"card\">\r\n      <div class=\"header\">\r\n        <h2 class=\"text-center\">Info Sasaran</h2>\r\n      </div>\r\n      <div class=\"body\">\r\n        <div class=\"row text-center\">\r\n          <div class=\"col-6 border-right border-bottom pb-4 pt-4\">\r\n            <div id=\"Traffic1\" class=\"carousel vert slide\" data-ride=\"carousel\" data-interval=\"3000\">\r\n              <div class=\"carousel-inner\">\r\n                <div class=\"carousel-item active\">\r\n                  <label class=\"mb-0\">Jumlah Sasaran</label>\r\n                  <h4 class=\"font-30 font-weight-bold text-primary\">"
    + alias5(((helper = (helper = helpers.formattedTotalSurveys || (depth0 != null ? depth0.formattedTotalSurveys : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{"name":"formattedTotalSurveys","hash":{},"data":data}) : helper)))
    + "</h4>\r\n                </div>\r\n                <div class=\"carousel-item\">\r\n                  <label class=\"mb-0\">Sasaran Baru</label>\r\n                  <h4 class=\"font-30 font-weight-bold text-success\">"
    + alias5(((helper = (helper = helpers.formattedNewSurveysNumber || (depth0 != null ? depth0.formattedNewSurveysNumber : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{"name":"formattedNewSurveysNumber","hash":{},"data":data}) : helper)))
    + "</h4>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-6 border-bottom pb-4 pt-4\">\r\n            <div id=\"Traffic1\" class=\"carousel vert slide\" data-ride=\"carousel\" data-interval=\"3000\">\r\n              <div class=\"carousel-inner\">\r\n                <div class=\"carousel-item active\">\r\n                  <label class=\"mb-0\">Tidak Wujud</label>\r\n                  <h4 class=\"font-30 font-weight-bold text-warning\">"
    + alias5(((helper = (helper = helpers.formattedNotExistNumber || (depth0 != null ? depth0.formattedNotExistNumber : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{"name":"formattedNotExistNumber","hash":{},"data":data}) : helper)))
    + "</h4>\r\n                </div>\r\n                <div class=\"carousel-item\">\r\n                  <label class=\"mb-0\">Tiada Nombor</label>\r\n                  <h4 class=\"font-30 font-weight-bold text-danger\">"
    + alias5(((helper = (helper = helpers.formattedNotExistSurveys || (depth0 != null ? depth0.formattedNotExistSurveys : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{"name":"formattedNotExistSurveys","hash":{},"data":data}) : helper)))
    + "</h4>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"header\">\r\n        <h2 class=\"text-center\">Completed</h2>\r\n      </div>\r\n      <div class=\"body\">\r\n"
    + ((stack1 = helpers.each.call(alias2,(depth0 != null ? depth0.comments : depth0),{"name":"each","hash":{},"fn":container.program(5, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
    + "      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<script>\r\n  $(document).ready(function() {\r\n    $('.sparkline').sparkline('html', {\r\n      type: 'bar',\r\n      barColor: '#7cb5ec',\r\n      width: '30rem'\r\n    })\r\n  })\r\n</script>";
},"useData":true});

this["Template"]["templates"]["homeOperator"] = Handlebars.template({"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3=container.lambda, alias4="function", alias5=container.escapeExpression;

  return "<style>\r\n  td, h2 { text-transform: lowercase; }\r\n  td:first-letter, h2:first-letter { text-transform: uppercase; }\r\n  .card {\r\n    padding: 70px 10px;\r\n  }\r\n  .row-centered { text-align:center; }\r\n  .col-centered {\r\n    float:none;\r\n    text-align: center;\r\n    color: white;\r\n    background-color: #5A5A5A;\r\n    padding: 20px;\r\n    border: 1px solid #5A5A5A;\r\n    border-radius:20px;\r\n    margin-top: 20px;\r\n  }\r\n  .div-center {\r\n    margin: 20px auto;\r\n  }\r\n  .btn-survey {\r\n    transition: all 0.5s;\r\n    color: #5A5A5A;\r\n    background-color: white;\r\n    border-color: #5A5A5A;\r\n  }\r\n  .btn span {\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  position: relative;\r\n  transition: 0.5s;\r\n  }\r\n\r\n  .btn span:after {\r\n    content: '\\00bb';\r\n    position: absolute;\r\n    opacity: 0;\r\n    top: 0;\r\n    right: -20px;\r\n    transition: 0.5s;\r\n  }\r\n\r\n  .btn:hover span {\r\n    padding-right: 25px;\r\n  }\r\n\r\n  .btn:hover span:after {\r\n    opacity: 1;\r\n    right: 0;\r\n  }\r\n</style>\r\n\r\n<!-- Listing survey by region -->\r\n<div id=\"list\">\r\n  <div class=\"block-header\">\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-5 col-md-8 col-sm-12\">\r\n      <h2>Surveys</h2>\r\n    </div>\r\n    <div class=\"col-lg-7 col-md-4 col-sm-12 text-right\">\r\n      <ul class=\"breadcrumb justify-content-end\">\r\n        <li class=\"breadcrumb-item\"><a href=\"index.html\"><i class=\"icon-home\"></i></a></li>\r\n        <li class=\"breadcrumb-item\">Surveys</li>\r\n        <li class=\"breadcrumb-item active\">List</li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"row clearfix\">\r\n  <div class=\"col-lg-12\">\r\n    <div class=\"card\">\r\n      <div class=\"row row-centered\">\r\n        <div class=\"col-md-3 col-centered offset-md-3\" style=\"margin-right:20px;\">\r\n          <h2 id=\"NOS\">"
    + ((stack1 = (helpers.len || (depth0 && depth0.len) || alias2).call(alias1,(depth0 != null ? depth0.surveys : depth0),{"name":"len","hash":{},"data":data})) != null ? stack1 : "")
    + "</h2>\r\n          <h6>Survey Available</h6>\r\n        </div>\r\n        <div class=\"col-md-3 col-centered\">\r\n          <h2>"
    + ((stack1 = alias3(((stack1 = (depth0 != null ? depth0.survey : depth0)) != null ? stack1.region_name : stack1), depth0)) != null ? stack1 : "")
    + "</h2>\r\n          <h6>Assigned Region</h6>\r\n        </div>\r\n      </div>\r\n      <div class=\"row row-centered\">\r\n        <div class=\"col-md-6 div-center\">\r\n          <button id=\"SS\" class=\"btn btn-survey btn-block\" onclick=\"survey('"
    + ((stack1 = alias3(((stack1 = (depth0 != null ? depth0.survey : depth0)) != null ? stack1.name : stack1), depth0)) != null ? stack1 : "")
    + "')\"><span>Start Survey</span></button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</div>\r\n<script>\r\n  $(document).ready(() => {\r\n    $(\"table.datatable\").dataTable();\r\n  })\r\n\r\n  const len = "
    + ((stack1 = (helpers.len || (depth0 && depth0.len) || alias2).call(alias1,(depth0 != null ? depth0.surveys : depth0),{"name":"len","hash":{},"data":data})) != null ? stack1 : "")
    + "\r\n  if(!len) {\r\n    $(\"#SS\").prop(\"disabled\", true);\r\n  }\r\n\r\n  async function loop(options) {\r\n    return await new Promise(resolve => {\r\n      var result;\r\n      const interval = setInterval(() => {\r\n        try {\r\n          fetch(`"
    + alias5(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{"name":"url","hash":{},"data":data}) : helper)))
    + "surveys/region`, options)\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            result = data;\r\n          })\r\n          .catch(error => console.log(error));\r\n          var size = Object.keys(result).length;\r\n          var random = Math.floor((Math.random() * Number(size-1)) + 1);\r\n          if (size != $(\"#NOS\").text()) {\r\n            $(\"#NOS\").replaceWith(`<h2 id=\"NOS\">${size}</h2>`);\r\n            $(\"#SS\").attr(\"onclick\",`survey(${result[random].name})`);\r\n          }\r\n        } catch (err) {\r\n          resolve(err);\r\n        }\r\n      }, 3000);\r\n    });\r\n  }\r\n\r\n  var options = {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `bearer ${sessionStorage.getItem(\"token\")}`\r\n      }\r\n  };\r\n  var bar = loop(options);\r\n\r\n  async function survey(name) {\r\n    try {\r\n      var surveys = "
    + ((stack1 = (helpers.json || (depth0 && depth0.json) || alias2).call(alias1,(depth0 != null ? depth0.surveys : depth0),{"name":"json","hash":{},"data":data})) != null ? stack1 : "")
    + "\r\n      const surveyList = surveys.filter(survey => name == survey.name)\r\n      sessionStorage.removeItem(\"targetedSurvey\")\r\n      sessionStorage.removeItem(\"phone\")\r\n      sessionStorage.setItem(\"targetedSurvey\", JSON.stringify(surveyList))\r\n      sessionStorage.setItem(\"phone\", JSON.stringify(surveyList[0].phone))\r\n      var profile = JSON.parse(sessionStorage.getItem(\"profile\"))\r\n\r\n      var id = surveyList[0].id;\r\n      var formData = JSON.stringify({\r\n        id: surveyList[0].id,\r\n        gender: surveyList[0].gender,\r\n        phone: surveyList[0].phone,\r\n        race: surveyList[0].race,\r\n        name:surveyList[0].name,\r\n        address: surveyList[0].address,\r\n        question_survey: null,\r\n        comment: null,\r\n        status_survey: null,\r\n        call_duration: null,\r\n        operator_id: profile.username,\r\n        status_phone: null,\r\n        status: 1\r\n      });\r\n      const updateStatus = await fetch(`"
    + alias5(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{"name":"url","hash":{},"data":data}) : helper)))
    + "survey/${id}/edit`, {\r\n        method: \"post\",\r\n        headers: {\r\n        credentials: 'include',\r\n        Accept: \"application/json\",\r\n        \"Content-type\": \"application/json\",\r\n        Authorization: `bearer ${sessionStorage.getItem(\"token\")}`,\r\n        'Cache-Control': 'no-cache'\r\n        },\r\n        body: formData\r\n      });\r\n\r\n      const pending = await updateStatus.json();\r\n\r\n      if (pending.status) {\r\n        window.location.href = \"index.html#survey\";\r\n      } else {\r\n        Swal.fire({\r\n          title: \"Fail\",\r\n          text: \"Fail update status\",\r\n          type: \"error\"\r\n        });\r\n      }\r\n    } catch (err) { \r\n      console.log(err) }\r\n  }\r\n\r\n</script>";
},"useData":true});

this["Template"]["templates"]["newQuestion"] = Handlebars.template({"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3="function";

  return "<div class=\"block-header\">\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-5 col-md-8 col-sm-12\">\r\n      <h2>Tambah Set Soalan</h2>\r\n    </div>\r\n    <div class=\"col-lg-7 col-md-4 col-sm-12 text-right\">\r\n      <ul class=\"breadcrumb justify-content-end\">\r\n        <li class=\"breadcrumb-item\"><a href=\"index.html\"><i class=\"icon-home\"></i></a></li>\r\n        <li class=\"breadcrumb-item\">Soalan</li>\r\n        <li class=\"breadcrumb-item active\">Tambah Set</li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<form id=\"form\" method=\"POST\">\r\n  <div class=\"row clearfix\">\r\n    <div class=\"col-lg-6 col-md-12\">\r\n      <div class=\"card\">\r\n        <div class=\"header\">\r\n          <h2>Survey Questions</h2>\r\n        </div>\r\n        <div class=\"body\">\r\n          <div class=\"input-group mb-3\">\r\n            <div class=\"input-group-prepend\">\r\n              <span class=\"input-group-text\">Set #</span>\r\n            </div>\r\n            <input type=\"text\" id=\"set_id\" class=\"form-control\" value=\""
    + ((stack1 = ((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"id","hash":{},"data":data}) : helper))) != null ? stack1 : "")
    + "\" aria-label=\"SetId\"\r\n              aria-describedby=\"basic-addon1\" readonly>\r\n          </div>\r\n\r\n          <div class=\"input-group mb-3\">\r\n            <div class=\"input-group-prepend\">\r\n              <span class=\"input-group-text\">Name</span>\r\n            </div>\r\n            <input type=\"text\" id=\"set_name\" class=\"form-control\" placeholder=\"Set name\" aria-label=\"SetName\"\r\n              aria-describedby=\"basic-addon1\">\r\n          </div>\r\n\r\n          <div class=\"input-group mb-3\">\r\n            <div class=\"input-group-prepend\">\r\n              <label class=\"input-group-text\" for=\"inputGroupSelectCategory\">Category</label>\r\n            </div>\r\n            <select class=\"custom-select\" id=\"category\" id=\"inputGroupSelectCategory\" required>\r\n              <option selected value=\"\" disabled>Choose</option>\r\n              <option value=\"umum\">Umum</option>\r\n              <option value=\"feedback\">Feedback</option>\r\n              <option value=\"keberkesanan\">Keberkesanan</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class=\"input-group mb-3\">\r\n            <div class=\"input-group-prepend\">\r\n              <label class=\"input-group-text\" for=\"numQ\">Num. of Questions</label>\r\n            </div>\r\n            <select onchange=\"changeNumQ(event)\" class=\"custom-select\" id=\"numQ\">\r\n              <option value=\"3\" selected>3</option>\r\n              <option value=\"4\">4</option>\r\n              <option value=\"5\">5</option>\r\n              <option value=\"6\">6</option>\r\n            </select>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-lg-6 col-md-12\">\r\n      <div class=\"card\">\r\n        <div class=\"header\">\r\n          <h2>Questions</h2>\r\n        </div>\r\n        <div id=\"qGroup\" class=\"body test\">\r\n          <div class=\"input-group\" style=\"padding-bottom:20px;\">\r\n            <div class=\"input-group-prepend\">\r\n              <span class=\"input-group-text\">Q1</span>\r\n            </div>\r\n            <textarea class=\"form-control\" id=\"1\" aria-label=\"With textarea\"></textarea>\r\n          </div>\r\n          <div class=\"input-group\" style=\"padding-bottom:20px;\">\r\n            <div class=\"input-group-prepend\">\r\n              <span class=\"input-group-text\">Q2</span>\r\n            </div>\r\n            <textarea class=\"form-control\" id=\"2\" aria-label=\"With textarea\"></textarea>\r\n          </div>\r\n          <div class=\"input-group\" style=\"padding-bottom: 20px;\">\r\n            <div class=\"input-group-prepend\">\r\n              <span class=\"input-group-text\">Q3</span>\r\n            </div>\r\n            <textarea class=\"form-control\" id=\"3\" aria-label=\"With textarea\"></textarea>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-lg-12 text-right\">\r\n      <div class=\"card\">\r\n        <div class=\"body\">\r\n          <button onclick=\"submitQuestion()\" class=\"btn btn-primary\">Submit</button>\r\n          <a id=\"resetButton\" class=\"btn btn-primary\" style=\"font-color:white;\">Reset</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</form>\r\n\r\n<script>\r\n  var num = 3;\r\n  function changeNumQ(event) {\r\n    num = event.target.value;\r\n    $('#qGroup').empty();\r\n    for (i = 1; i <= event.target.value; i++) {\r\n      $('#qGroup').append('<div id=\"'+ i +'\" class=\"input-group\"  style=\"padding-bottom:20px;\"><div class=\"input-group-prepend\"><span class=\"input-group-text\">Q' + i + '</span></div><textarea id=\"' + i + '\"class=\"form-control\" aria-label=\"With textarea\"></textarea></div>');\r\n    }\r\n  }\r\n\r\n  async function submitQuestion() {\r\n    event.preventDefault(); //prevent redirect/page refresh\r\n    var arr = [];\r\n    for (i = 1; i <= num; i++) {\r\n      arr.push($(`#${i}`).val());\r\n    }\r\n    try {\r\n      var formData = JSON.stringify({\r\n        set_name: $(\"#set_name\").val(),\r\n        category: $(\"#category\").val(),\r\n        questions: arr,\r\n        status: 'active'\r\n      });\r\n      const questionCreate = await fetch(`"
    + container.escapeExpression(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"url","hash":{},"data":data}) : helper)))
    + "question/create`, {\r\n        method: \"post\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `bearer ${sessionStorage.getItem(\"token\")}`,\r\n          'Cache-Control': 'no-cache'\r\n        },\r\n        body: formData\r\n      });\r\n\r\n      const created = await questionCreate.json();\r\n\r\n      if (created.insertstatus) {\r\n        Swal.fire({\r\n          title: \"Congratulation\",\r\n          text: \"Successfully Created\",\r\n          type: \"success\"\r\n        }).then(result => {\r\n          if (result.value) {\r\n            window.location.href = \"#question-set\";\r\n          }\r\n        });\r\n      } else {\r\n        Swal.fire({\r\n          title: \"Fail\",\r\n          text: \"Please refill the form\",\r\n          type: \"error\"\r\n        });\r\n      }\r\n    } catch (err) {\r\n      Swal.fire(\"Something went wrong\", err.message, \"error\");\r\n    }\r\n  }\r\n\r\n  $('#resetButton').click(() => {\r\n    $('#form').trigger(\"reset\");\r\n    $('#4').remove();\r\n    $('#5').remove();\r\n    $('#6').remove();\r\n  });\r\n\r\n</script>\r\n";
},"useData":true});

this["Template"]["templates"]["questionSet"] = Handlebars.template({"1":function(container,depth0,helpers,partials,data) {
    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3=container.escapeExpression, alias4="function";

  return "              <tr style=\"text-align: center\">\r\n                <td>"
    + alias3((helpers.index || (depth0 && depth0.index) || alias2).call(alias1,(data && data.index),{"name":"index","hash":{},"data":data}))
    + "</td>\r\n                <td>"
    + alias3(((helper = (helper = helpers.set_name || (depth0 != null ? depth0.set_name : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{"name":"set_name","hash":{},"data":data}) : helper)))
    + "</td>\r\n                <td>"
    + alias3((helpers.date || (depth0 && depth0.date) || alias2).call(alias1,(depth0 != null ? depth0.date_created : depth0),{"name":"date","hash":{},"data":data}))
    + "</td>\r\n                <td>"
    + ((stack1 = (helpers.len || (depth0 && depth0.len) || alias2).call(alias1,(depth0 != null ? depth0.questions : depth0),{"name":"len","hash":{},"data":data})) != null ? stack1 : "")
    + "</td>\r\n                <td>"
    + alias3(((helper = (helper = helpers.category || (depth0 != null ? depth0.category : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{"name":"category","hash":{},"data":data}) : helper)))
    + "</td>\r\n                <td><label class=\"badge\">"
    + alias3(((helper = (helper = helpers.status || (depth0 != null ? depth0.status : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{"name":"status","hash":{},"data":data}) : helper)))
    + "</label></td>\r\n                <td>\r\n                  <button onclick=\"viewSet('"
    + ((stack1 = ((helper = (helper = helpers.set_name || (depth0 != null ? depth0.set_name : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{"name":"set_name","hash":{},"data":data}) : helper))) != null ? stack1 : "")
    + "')\" class=\"btn btn-success btn-sm\">View Set\r\n                  </button>\r\n                </td>\r\n                <td>\r\n                  <button onclick=\"editSet('"
    + ((stack1 = ((helper = (helper = helpers.set_id || (depth0 != null ? depth0.set_id : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{"name":"set_id","hash":{},"data":data}) : helper))) != null ? stack1 : "")
    + "')\" class=\"btn btn-info btn-sm\"><i\r\n                    class=\"icon-pencil\"></i></button>\r\n                </td>\r\n                <td>\r\n                  <button onclick=\"deleteSet('"
    + ((stack1 = ((helper = (helper = helpers.set_id || (depth0 != null ? depth0.set_id : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{"name":"set_id","hash":{},"data":data}) : helper))) != null ? stack1 : "")
    + "')\" class=\"btn btn-danger btn-sm\"><i\r\n                      class=\"icon-trash\"></i></button>\r\n                </td>\r\n              </tr>\r\n";
},"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3="function", alias4=container.escapeExpression;

  return "<div class=\"block-header\">\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-5 col-md-8 col-sm-12\">\r\n      <h2>List of Questions</h2>\r\n    </div>\r\n    <div class=\"col-lg-7 col-md-4 col-sm-12 text-right\">\r\n      <ul class=\"breadcrumb justify-content-end\">\r\n        <li class=\"breadcrumb-item\"><a href=\"index.html\"><i class=\"icon-home\"></i></a></li>\r\n        <li class=\"breadcrumb-item\">Questions</li>\r\n        <li class=\"breadcrumb-item active\">List of Questions</li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"col-md-12\">\r\n  <div class=\"card\">\r\n    <div class=\"header\">\r\n      <h2>List of Questions</h2>\r\n    </div>\r\n    <div class=\"body\">\r\n      <div>\r\n        <a href=\"#new-question\" class=\"btn btn-primary\"\r\n          style=\"-webkit-writing-mode: horizontal-tb !important; text-rendering: auto; letter-spacing: normal; word-spacing: normal; text-indent: 0px; text-shadow: none; align-items: flex-start; font: 400 13.3333px Arial;\">Add\r\n          New Question</a>\r\n      </div>\r\n      <br />\r\n      <div class=\"table-responsive\">\r\n        <table class=\"table center-aligned-table datatable\">\r\n          <thead>\r\n            <tr style=\"text-align: center\">\r\n              <th>Set #</th>\r\n              <th>Set Name</th>\r\n              <th>Date created</th>\r\n              <th>No. of Questions</th>\r\n              <th>Category</th>\r\n              <th>Status</th>\r\n              <th></th>\r\n              <th></th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n"
    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.ques : depth0),{"name":"each","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
    + "          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"modal\" tabindex=\"-1\" id=\"questionsModal\" role=\"dialog\">\r\n            <div class=\"modal-dialog\" role=\"document\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <h5 class=\"modal-title\">Question List</h5>\r\n                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                            <span aria-hidden=\"true\">&times;</span>\r\n                        </button>\r\n                    </div>\r\n                    <div id=\"qModal\" class=\"modal-body\">\r\n                    </div>\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n<script>\r\n\r\n    $(document).ready(() => {\r\n      $(\"table.datatable\").dataTable();\r\n  })\r\n\r\n  async function editSet(set_id) {\r\n    var ques = "
    + ((stack1 = (helpers.json || (depth0 && depth0.json) || alias2).call(alias1,(depth0 != null ? depth0.ques : depth0),{"name":"json","hash":{},"data":data})) != null ? stack1 : "")
    + ";\r\n    const setList = ques.filter(questions => set_id == questions.set_id);\r\n    var size = Object.keys(setList[0].questions).length;\r\n\r\n    var string = \"\";\r\n    for(i=0;i<size;i++){\r\n      string = string + '<input type=\"text\" class=\"form-control\" name=\"question\" id=\"question\" value=\"' + setList[0].questions[i] + '\"><br/>';\r\n    }\r\n\r\n  const { value: formValues } = await Swal.fire({\r\n    title: 'Edit question',\r\n    html: `\r\n      <br/>\r\n      <input type=\"text\" class=\"form-control\" id=\"set_id\" value=\"${setList[0].set_id}\" readonly>\r\n      <br/>\r\n      <input type=\"text\" class=\"form-control\" id=\"set_name\" value=\"${setList[0].set_name}\"><br/>\r\n      <select class=\"form-control\" id=\"category\">\r\n        <option ${setList[0].category == 'umum' ? 'selected' : ''} value=\"umum\">Umum</option>\r\n        <option ${setList[0].category == 'feedback' ? 'selected' : ''} value=\"feedback\">Feedback</option>\r\n        <option ${setList[0].category == 'keberkesanan' ? 'selected' : ''} value=\"keberkesanan\">Keberkesanan</option>\r\n      </select><br/>\r\n      ${string}\r\n      <select class=\"form-control\" id=\"status\">\r\n        <option selected value=\"${setList[0].status}\">${setList[0].status}</option>\r\n        <option value=\"Active\">Active</option>\r\n        <option value=\"Inactive\">Inactive</option>\r\n      </select>\r\n      <br/>`,\r\n    focusConfirm: false,\r\n    preConfirm: () => {\r\n      return [\r\n        document.getElementById('set_name').value,\r\n        document.getElementById('category').value,\r\n        document.getElementById('status').value,\r\n      ]\r\n    }\r\n  })\r\n\r\n  if (formValues) {\r\n    try {\r\n      var questionsVal = []\r\n      $('input[name=\"question\"]').each(function() {\r\n        questionsVal.push($(this).val());\r\n      });\r\n\r\n      var formData = JSON.stringify({\r\n        set_name: formValues[0],\r\n        category: formValues[1],\r\n        questions: questionsVal,\r\n        status: formValues[2]\r\n      });\r\n\r\n      const questionCreate = await fetch(`"
    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"url","hash":{},"data":data}) : helper)))
    + "question/${set_id}/edit`, {\r\n        method: \"post\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `bearer ${sessionStorage.getItem(\"token\")}`,\r\n          'Cache-Control': 'no-cache'\r\n        },\r\n        body: formData\r\n      });\r\n\r\n      if (questionCreate) {\r\n        const created = await questionCreate.json();\r\n\r\n        if (created.status) {\r\n          Swal.fire({\r\n            title: \"Congratulation\",\r\n            text: \"Successfully Created\",\r\n            type: \"success\"\r\n          }).then(result => {\r\n            if (result.value) {\r\n              window.location.reload();\r\n            }\r\n          });\r\n        } else {\r\n          Swal.fire({\r\n            title: \"Fail\",\r\n            text: \"Please refill the form\",\r\n            type: \"error\"\r\n          });\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.log(err)\r\n      Swal.fire(\"Something went wrong\", err.message, \"error\");\r\n    }\r\n  }\r\n  }\r\n\r\n  async function deleteSet(set_id) {\r\n    try {\r\n      const req = await swal.fire({\r\n        title: \"Are you sure?\",\r\n        type: \"warning\",\r\n        showCancelButton: true,\r\n        confirmButtonColor: \"#DD6B55\",\r\n        confirmButtonText: \"Yes, delete it!\",\r\n        cancelButtonText: \"No, cancel please!\"\r\n      })\r\n\r\n      const status = await req;\r\n\r\n      if (status.value) {\r\n        const res = await fetch(`"
    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"url","hash":{},"data":data}) : helper)))
    + "questions/${set_id}/delete`, {\r\n          method: \"get\",\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-type\": \"application/json\",\r\n            Authorization: `bearer ${sessionStorage.getItem(\"token\")}`,\r\n            'Cache-Control': 'no-cache'\r\n          }\r\n\r\n        });\r\n\r\n        const deleted = await res;\r\n        swal.fire(\"Successfully deleted\", \"success\")\r\n          .then(result => {\r\n            if (result.value) {\r\n              window.location.reload();\r\n            }\r\n          });\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  function viewSet(set_name) {\r\n     $('#qModal').empty();\r\n    var ques = "
    + ((stack1 = (helpers.json || (depth0 && depth0.json) || alias2).call(alias1,(depth0 != null ? depth0.ques : depth0),{"name":"json","hash":{},"data":data})) != null ? stack1 : "")
    + ";\r\n    const setList = ques.filter(questions => set_name === questions.set_name);\r\n\r\n    $('#questionsModal').modal(); \r\n      setList[0].questions.forEach((index, e) => {\r\n        $('#qModal').append(`${e+1}. ${index}`);\r\n        $('#qModal').append(\"<br/>\");\r\n      });\r\n  }\r\n</script>";
},"useData":true});

this["Template"]["templates"]["recordRegion"] = Handlebars.template({"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
    return "<div class=\"block-header\">\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-5 col-md-8 col-sm-12\">\r\n      <h2>Tetapan Kawasan</h2>\r\n    </div>\r\n    <div class=\"col-lg-7 col-md-4 col-sm-12 text-right\">\r\n      <ul class=\"breadcrumb justify-content-end\">\r\n        <li class=\"breadcrumb-item\"><a href=\"index.html\"><i class=\"icon-home\"></i></a></li>\r\n        <li class=\"breadcrumb-item\">Record Operator</li>\r\n        <li class=\"breadcrumb-item active\">Tetapan Kawasan</li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"col-md-12\">\r\n  <div class=\"card\">\r\n    <div class=\"header\">\r\n      <h2>Senarai Kawasan untuk Operator</h2>\r\n    </div>\r\n\r\n    <div class=\"btn-group\" role=\"group\">\r\n      <button id=\"btnGroupDrop1\" type=\"button\" class=\"btn btn-primary dropdown-toggle\" data-toggle=\"dropdown\"\r\n        aria-haspopup=\"true\" aria-expanded=\"false\">\r\n        Pilih Kawasan\r\n      </button>\r\n      <div class=\"dropdown-menu\" aria-labelledby=\"btnGroupDrop1\">\r\n        <a class=\"dropdown-item\" href=\"javascript:void(0);\">Selayang</a>\r\n        <a class=\"dropdown-item\" href=\"javascript:void(0);\">Sibu</a>\r\n        <a class=\"dropdown-item\" href=\"javascript:void(0);\">Batu Muda</a>\r\n        <a class=\"dropdown-item\" href=\"javascript:void(0);\">Kota Damansara</a>\r\n        <a class=\"dropdown-item\" href=\"javascript:void(0);\">Sri Gombak</a>\r\n      </div>\r\n    </div>\r\n\r\n\r\n\r\n    <div class=\"body\">\r\n      <div class=\"table-responsive\">\r\n        <table class=\"table table-hover m-b-0 c_list datatable\">\r\n          <thead>\r\n            <tr>\r\n              <th>\r\n                <label class=\"fancy-checkbox\">\r\n                  <input class=\"select-all\" type=\"checkbox\" name=\"checkbox\">\r\n                  <span></span>\r\n                </label>\r\n              </th>\r\n              <th>Name</th>\r\n              <th>Call Centre</th>\r\n              <th>Kawasan Sasaran</th>\r\n              <th>Action</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td style=\"width: 50px;\">\r\n                <label class=\"fancy-checkbox\">\r\n                  <input class=\"checkbox-tick\" type=\"checkbox\" name=\"checkbox\">\r\n                  <span></span>\r\n                </label>\r\n              </td>\r\n              <td>\r\n                <p class=\"c_name\">Nama Operator <span class=\"badge badge-default m-l-10 hidden-sm-down\">username</span>\r\n                </p>\r\n              </td>\r\n              <td>\r\n                <span class=\"phone\"><i class=\"fa fa-phone m-r-10\"></i>CCS One</span>\r\n              </td>\r\n              <td>\r\n                <address><i class=\"fa fa-map-marker\"></i>Selayang</address>\r\n              </td>\r\n              <td>\r\n                <button type=\"button\" class=\"btn btn-info\" title=\"Edit\"><i class=\"fa fa-edit\"></i></button>\r\n                <button type=\"button\" data-type=\"confirm\" class=\"btn btn-danger js-sweetalert\" title=\"Delete\"><i\r\n                    class=\"fa fa-trash-o\"></i></button>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <label class=\"fancy-checkbox\">\r\n                  <input class=\"checkbox-tick\" type=\"checkbox\" name=\"checkbox\">\r\n                  <span></span>\r\n                </label>\r\n              </td>\r\n              <td>\r\n                <p class=\"c_name\">Nuraidah Husin <span class=\"badge badge-info m-l-10 hidden-sm-down\">nana19</span></p>\r\n              </td>\r\n              <td>\r\n                <span class=\"phone\"><i class=\"fa fa-phone m-r-10\"></i>CCS Two</span>\r\n              </td>\r\n              <td>\r\n                <address><i class=\"fa fa-map-marker\"></i>Kota Damansara</address>\r\n              </td>\r\n              <td>\r\n                <button type=\"button\" class=\"btn btn-info\" title=\"Edit\"><i class=\"fa fa-edit\"></i></button>\r\n                <button type=\"button\" data-type=\"confirm\" class=\"btn btn-danger js-sweetalert\" title=\"Delete\"><i\r\n                    class=\"fa fa-trash-o\"></i></button>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <label class=\"fancy-checkbox\">\r\n                  <input class=\"checkbox-tick\" type=\"checkbox\" name=\"checkbox\">\r\n                  <span></span>\r\n                </label>\r\n              </td>\r\n              <td>\r\n                <p class=\"c_name\">Farid Hamid <span class=\"badge badge-info m-l-10 hidden-sm-down\">farid</span></p>\r\n              </td>\r\n              <td>\r\n                <span class=\"phone\"><i class=\"fa fa-phone m-r-10\"></i>CCS One</span>\r\n              </td>\r\n              <td>\r\n                <address><i class=\"fa fa-map-marker\"></i>Selayang</address>\r\n              </td>\r\n              <td>\r\n                <button type=\"button\" class=\"btn btn-info\" title=\"Edit\"><i class=\"fa fa-edit\"></i></button>\r\n                <button type=\"button\" data-type=\"confirm\" class=\"btn btn-danger js-sweetalert\" title=\"Delete\"><i\r\n                    class=\"fa fa-trash-o\"></i></button>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <label class=\"fancy-checkbox\">\r\n                  <input class=\"checkbox-tick\" type=\"checkbox\" name=\"checkbox\">\r\n                  <span></span>\r\n                </label>\r\n              </td>\r\n              <td>\r\n                <p class=\"c_name\">Fatimah Ahmad<span class=\"badge badge-default m-l-10 hidden-sm-down\">tinaisme</span>\r\n                </p>\r\n              </td>\r\n              <td>\r\n                <span class=\"phone\"><i class=\"fa fa-phone m-r-10\"></i>CCS Two</span>\r\n              </td>\r\n              <td>\r\n                <address><i class=\"fa fa-map-marker\"></i>Kota Damansara</address>\r\n              </td>\r\n              <td>\r\n                <button type=\"button\" class=\"btn btn-info\" title=\"Edit\"><i class=\"fa fa-edit\"></i></button>\r\n                <button type=\"button\" data-type=\"confirm\" class=\"btn btn-danger js-sweetalert\" title=\"Delete\"><i\r\n                    class=\"fa fa-trash-o\"></i></button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n";
},"useData":true});

this["Template"]["templates"]["recordStatistics"] = Handlebars.template({"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
    return "            <div class=\"block-header\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-lg-5 col-md-8 col-sm-12\">\r\n                        <h2>Statistik Operator</h2>\r\n                    </div>\r\n                    <div class=\"col-lg-7 col-md-4 col-sm-12 text-right\">\r\n                        <ul class=\"breadcrumb justify-content-end\">\r\n                            <li class=\"breadcrumb-item\"><a href=\"index.html\"><i class=\"icon-home\"></i></a></li>\r\n                            <li class=\"breadcrumb-item\">Record Operator</li>\r\n                            <li class=\"breadcrumb-item active\">Statistik</li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"clearfix\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"card\">\r\n                        <div class=\"header\">\r\n                        <h2>Performance Operator<small>Note for admin here</small> </h2>\r\n                        </div>\r\n                        <div class=\"body\">\r\n                            <div class=\"row clearfix\">\r\n                                <div class=\"col-lg-3 col-md-12\">\r\n                                    <label>Pilihan Kawasan</label>\r\n                                    <div>\r\n                                    <div class=\"btn-group\">\r\n                                        <button type=\"button\" class=\"btn btn-danger dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                            Semua Kawasan\r\n                                        </button>\r\n                                        <div class=\"dropdown-menu\">\r\n                                            <a class=\"dropdown-item\" href=\"#\">Selayang</a>\r\n                                            <a class=\"dropdown-item\" href=\"#\">Sri Gombak</a>\r\n                                            <a class=\"dropdown-item\" href=\"#\">Sibu</a>\r\n                                            <div class=\"dropdown-divider\"></div>\r\n                                            <a class=\"dropdown-item\" href=\"#\">Semua kawasan</a>\r\n                                        </div>\r\n                                    </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-lg-3 col-md-12\">\r\n                                    <label>Range</label>\r\n                                    <div class=\"input-daterange input-group\" data-provide=\"datepicker\">\r\n                                        <input type=\"text\" class=\"input-sm form-control\" name=\"start\">\r\n                                        <span class=\"input-group-addon range-to\">to</span>\r\n                                        <input type=\"text\" class=\"input-sm form-control\" name=\"end\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-lg-3 col-md-12\">\r\n                                    <div class=\"body\">\r\n                                        <div>\r\n\r\n                                        <button type=\"button\" class=\"btn btn-primary\">Reset</button>\r\n                                        <button type=\"button\" class=\"btn btn-success\">Carian</button>\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n            <div class=\"col-lg-12\">\r\n                <div class=\"card\">\r\n\r\n\r\n                    <div class=\"body\">\r\n                        <div class=\"table-responsive\">\r\n                            <table class=\"table table-bordered table-striped table-hover dataTable js-exportable datatable\">\r\n                                <thead>\r\n                                <tr>\r\n                                    <th>Nama Pengguna</th>\r\n                                    <th>Jumlah Kajian Berjaya</th>\r\n                                    <th>Jumlah Panggilan</th>\r\n                                    <th>Jumlah Sesi</th>\r\n                                    <th>Purata Sesi</th>\r\n                                    <th>Sessi Terlama</th>\r\n                                </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                <tr>\r\n                                    <td>Tiger Nixon</td>\r\n                                    <td>39</td>\r\n                                    <td>150</td>\r\n                                    <td>18:41:19</td>\r\n                                    <td>00:07:28</td>\r\n                                    <td>01:22:58</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>Tiger Nixon</td>\r\n                                    <td>39</td>\r\n                                    <td>150</td>\r\n                                    <td>18:41:19</td>\r\n                                    <td>00:07:28</td>\r\n                                    <td>01:22:58</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>Tiger Nixon</td>\r\n                                    <td>39</td>\r\n                                    <td>150</td>\r\n                                    <td>18:41:19</td>\r\n                                    <td>00:07:28</td>\r\n                                    <td>01:22:58</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>Ramlah Husin</td>\r\n                                    <td>39</td>\r\n                                    <td>150</td>\r\n                                    <td>18:41:19</td>\r\n                                    <td>00:07:28</td>\r\n                                    <td>01:22:58</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>Ramlah Husin</td>\r\n                                    <td>39</td>\r\n                                    <td>150</td>\r\n                                    <td>18:41:19</td>\r\n                                    <td>00:07:28</td>\r\n                                    <td>01:22:58</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>Ramlah Husin</td>\r\n                                    <td>39</td>\r\n                                    <td>150</td>\r\n                                    <td>18:41:19</td>\r\n                                    <td>00:07:28</td>\r\n                                    <td>01:22:58</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>Ramlah Husin</td>\r\n                                    <td>39</td>\r\n                                    <td>150</td>\r\n                                    <td>18:41:19</td>\r\n                                    <td>00:07:28</td>\r\n                                    <td>01:22:58</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>Ramlah Husin</td>\r\n                                    <td>39</td>\r\n                                    <td>150</td>\r\n                                    <td>18:41:19</td>\r\n                                    <td>00:07:28</td>\r\n                                    <td>01:22:58</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>Ramlah Husin</td>\r\n                                    <td>39</td>\r\n                                    <td>150</td>\r\n                                    <td>18:41:19</td>\r\n                                    <td>00:07:28</td>\r\n                                    <td>01:22:58</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>Ramlah Husin</td>\r\n                                    <td>39</td>\r\n                                    <td>150</td>\r\n                                    <td>18:41:19</td>\r\n                                    <td>00:07:28</td>\r\n                                    <td>01:22:58</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <<td>Ramlah Husin</td>\r\n                                    <td>39</td>\r\n                                    <td>150</td>\r\n                                    <td>18:41:19</td>\r\n                                    <td>00:07:28</td>\r\n                                    <td>01:22:58</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>Ramlah Husin</td>\r\n                                    <td>39</td>\r\n                                    <td>150</td>\r\n                                    <td>18:41:19</td>\r\n                                    <td>00:07:28</td>\r\n                                    <td>01:22:58</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>Ramlah Husin</td>\r\n                                    <td>39</td>\r\n                                    <td>150</td>\r\n                                    <td>18:41:19</td>\r\n                                    <td>00:07:28</td>\r\n                                    <td>01:22:58</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>Ramlah Husin</td>\r\n                                    <td>39</td>\r\n                                    <td>150</td>\r\n                                    <td>18:41:19</td>\r\n                                    <td>00:07:28</td>\r\n                                    <td>01:22:58</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>Ramlah Husin</td>\r\n                                    <td>39</td>\r\n                                    <td>150</td>\r\n                                    <td>18:41:19</td>\r\n                                    <td>00:07:28</td>\r\n                                    <td>01:22:58</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>Ramlah Husin</td>\r\n                                    <td>39</td>\r\n                                    <td>150</td>\r\n                                    <td>18:41:19</td>\r\n                                    <td>00:07:28</td>\r\n                                    <td>01:22:58</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>Ramlah Husin</td>\r\n                                    <td>39</td>\r\n                                    <td>150</td>\r\n                                    <td>18:41:19</td>\r\n                                    <td>00:07:28</td>\r\n                                    <td>01:22:58</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>Ramlah Husin</td>\r\n                                    <td>39</td>\r\n                                    <td>150</td>\r\n                                    <td>18:41:19</td>\r\n                                    <td>00:07:28</td>\r\n                                    <td>01:22:58</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>Ramlah Husin</td>\r\n                                    <td>39</td>\r\n                                    <td>150</td>\r\n                                    <td>18:41:19</td>\r\n                                    <td>00:07:28</td>\r\n                                    <td>01:22:58</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>Ramlah Husin</td>\r\n                                    <td>39</td>\r\n                                    <td>150</td>\r\n                                    <td>18:41:19</td>\r\n                                    <td>00:07:28</td>\r\n                                    <td>01:22:58</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>Ramlah Husin</td>\r\n                                    <td>39</td>\r\n                                    <td>150</td>\r\n                                    <td>18:41:19</td>\r\n                                    <td>00:07:28</td>\r\n                                    <td>01:22:58</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>Ramlah Husin</td>\r\n                                    <td>39</td>\r\n                                    <td>150</td>\r\n                                    <td>18:41:19</td>\r\n                                    <td>00:07:28</td>\r\n                                    <td>01:22:58</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>Ramlah Husin</td>\r\n                                    <td>39</td>\r\n                                    <td>150</td>\r\n                                    <td>18:41:19</td>\r\n                                    <td>00:07:28</td>\r\n                                    <td>01:22:58</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>Ramlah Husin</td>\r\n                                    <td>39</td>\r\n                                    <td>150</td>\r\n                                    <td>18:41:19</td>\r\n                                    <td>00:07:28</td>\r\n                                    <td>01:22:58</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>Ramlah Husin</td>\r\n                                    <td>39</td>\r\n                                    <td>150</td>\r\n                                    <td>18:41:19</td>\r\n                                    <td>00:07:28</td>\r\n                                    <td>01:22:58</td>\r\n                                </tr>\r\n                                </tbody>\r\n                                <tfoot>\r\n                                <tr>\r\n                                    <th>Nama Pengguna</th>\r\n                                    <th>Jumlah Kajian Berjaya</th>\r\n                                    <th>Jumlah Panggilan</th>\r\n                                    <th>Jumlah Sesi</th>\r\n                                    <th>Purata Sesi</th>\r\n                                    <th>Sessi Terlama</th>\r\n                                </tr>\r\n                                </tfoot>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>";
},"useData":true});

this["Template"]["templates"]["result"] = Handlebars.template({"1":function(container,depth0,helpers,partials,data) {
    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3="function", alias4=container.escapeExpression;

  return "        <option class=\"dropdown-menu dropdown-item\" style=\"background-color:white; text-align:centre;\" value=\""
    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"id","hash":{},"data":data}) : helper)))
    + ","
    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"name","hash":{},"data":data}) : helper)))
    + "\">"
    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"name","hash":{},"data":data}) : helper)))
    + "</option>\r\n";
},"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3="function", alias4=container.escapeExpression;

  return "<style>\r\n  .btn-result {\r\n    color: #fff; \r\n    background-color: #4d62a7; \r\n    border-color: #4d62a7;\r\n}\r\n.btn-result:hover, .btn-result:focus, .btn-result:active, .btn-result.active, .open>.dropdown-toggle.btn-result {\r\n    color: #fff;\r\n    background-color: #3e4c77;\r\n    border-color: #1a2d3d; /*set the color you want here*/\r\n}\r\n</style>\r\n<div class=\"block-header\">\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-5 col-md-8 col-sm-12\">\r\n      <h2>Chart</h2>\r\n    </div>\r\n    <div class=\"col-lg-7 col-md-4 col-sm-12 text-right\">\r\n      <ul class=\"breadcrumb justify-content-end\">\r\n        <li class=\"breadcrumb-item\"><a href=\"index.html\"><i class=\"icon-home\"></i></a></li>\r\n        <li class=\"breadcrumb-item\">Result</li>\r\n        <li class=\"breadcrumb-item active\">Chart</li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"row clearfix m-b-20\">\r\n  <div class=\"col-lg-3 col-md-6\">\r\n    <div class=\"btn-group\" style=\"width: 100%;\">\r\n      <select class=\"btn btn-secondary\" style=\"width: 100%;text-align:centre;\" onchange=\"regionSelection(event)\">\r\n        <option class=\"dropdown-menu dropdown-item\" style=\"background-color:white; text-align:centre;\" selected>Select Region</option>\r\n"
    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.regions : depth0),{"name":"each","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
    + "      </select>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"row m-b-20\" id=\"graphContainer\">\r\n  <div class=\"col-lg-12\">\r\n    <div class=\"card\">\r\n      <div class=\"body\">\r\n        <div id=\"cardSurvey\" class=\"row\" style=\"display: hide;\">\r\n          <div style=\"margin-bottom:10px;\">\r\n            <div class=\"body text-center\">\r\n              <h2 id=\"title\" class=\"font700\"></h2>\r\n              <h2 id=\"jumlahSurvey\"></h2>\r\n              <span id=\"namaRegion\"></span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <br/>\r\n        <div class=\"row m-b-20\">\r\n          <div class=\"col-md-6\">\r\n            <div id=\"survey-chart\" class=\"status-survey\"></div> <!-- Status call percentage -->\r\n          </div>\r\n          <div class=\"col-md-6\">\r\n            <div id=\"comment-chart\" class=\"status-comment\"></div> <!-- Status call percentage -->\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"col-md-6\">\r\n            <div id=\"phone-chart\" class=\"status-phone\"></div> <!-- Status call percentage -->\r\n          </div>\r\n          <div class=\"col-md-6\">\r\n            <div id=\"race-chart\" class=\"status-race\"></div> <!-- Status call percentage -->\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"col-md-6\">\r\n            <div id=\"questionDist-chart\" class=\"status-questionDist-chart\"></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"col-md-12\">\r\n            <div id=\"question-chart\" class=\"status-question\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div id=\"bottomCard\" class=\"row\">\r\n  <div class=\"col-sm-12\">\r\n    <div class=\"card\" style=\"padding:15px; text-align:center;\">\r\n      <button class=\"btn btn-result\" onclick=\"viewDetails()\">View Details</button>\r\n      <a class=\"btn\" style=\"border-color: #4d62a7; background: white;\" id=\"csv\">CSV</a>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<script>\r\n  $(\"#bottomCard\").hide()\r\n  async function regionSelection(e) {\r\n    var arr = e.target.value.split(',');\r\n    const regionName = arr[1];\r\n    sessionStorage.setItem(\"region_id\", arr[0])\r\n    const region_id = arr[0];\r\n      const res = await fetch(`"
    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"url","hash":{},"data":data}) : helper)))
    + "surveys/statistics/${region_id}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `bearer ${sessionStorage.getItem(\"token\")}`,\r\n          'Cache-Control': 'no-cache'\r\n        }\r\n      });\r\n      var regionRecord = await res.json()\r\n      \r\n      if(regionRecord) {\r\n        displaySasaran(regionRecord, regionName);\r\n        surveyChart(regionRecord);\r\n        commentChart(regionRecord);\r\n        phoneChart(regionRecord);\r\n        raceChart(regionRecord);\r\n        questionChart(regionRecord);\r\n        questionDist(regionRecord);\r\n\r\n      //Setting CSV file content\r\n      var obj = [\"id\",\"gender\",\"phone\",\"race\",\"name\",\"address\",\"location\",\"region_id\",\"region_name\",\"question_survey\",\"comment\",\"status\",\"status_phone\",\"status_survey\",\"call_duration\",\"operator_id\"]\r\n\r\n      regionRecord.forEach(e => {\r\n        e.address = e.address.replace(/,/g, '');\r\n        if (e.status_phone){\r\n          if (e.status_phone.indexOf(',') != -1) { \r\n            e.status_phone = e.status_phone.replace(/,/g, '') \r\n          }\r\n        }\r\n        if (e.comment){\r\n          if (e.comment.indexOf(',') != -1) { \r\n            e.comment = e.comment.replace(/,/g, '') \r\n          }\r\n        }\r\n        if (e.phone.indexOf(',') != -1) { \r\n          e.phone = e.phone.replace(/,/g, '') \r\n        }\r\n        if(e.question_survey) {\r\n          if (e.question_survey.indexOf(',') != -1) {\r\n            e.question_survey = e.question_survey.replace(/,/g, '') \r\n          }\r\n        }\r\n      })\r\n      regionRecord.unshift(obj);\r\n      const jsonObject = JSON.stringify(regionRecord)\r\n      const csvContent = ConvertToCSV(jsonObject)\r\n      //Appending CSV download link to the button\r\n      if(csvContent) {\r\n        var encodedUri = encodeURI(csvContent);\r\n        var link = document.getElementById(\"csv\");\r\n        link.setAttribute(\"href\", 'data:text/csv;charset=UTF-8,' + encodedUri);\r\n        link.setAttribute(\"download\", \"surveyDetails.csv\");\r\n      }\r\n      }\r\n    $('#graphContainer').fadeIn(1000)\r\n    $(\"#bottomCard\").show()\r\n  } \r\n\r\n  function ConvertToCSV(objArray) {\r\n    var array = typeof objArray != 'object' ? JSON.parse(objArray) : objArray;\r\n    var str = '';\r\n\r\n    for (var i = 0; i < array.length; i++) {\r\n        var line = '';\r\n        for (var index in array[i]) {\r\n            if (line != '') line += ','\r\n\r\n            line += array[i][index];\r\n        }\r\n\r\n        str += line + '\\r\\n';\r\n    }\r\n\r\n    return str;\r\n  }\r\n\r\n  function surveyChart(surveyRecord) {\r\n    $(\".status-survey\").empty()\r\n    var done = 0;\r\n    var undone = 0;\r\n    var survey = surveyRecord.map(e => e.status)\r\n    survey.forEach(e => {\r\n      if(e == 0){\r\n        done=+1;\r\n      } else if( e == 2){\r\n        undone=+1;\r\n      }\r\n    })\r\n\r\n    var data = {\r\n      labels: ['Passed Surveys', 'Pending Surveys'],\r\n      series: [done, undone]\r\n    };\r\n\r\n    var options = {\r\n      labelInterpolationFnc: function(value) {\r\n        return value[0]\r\n      }\r\n    };\r\n\r\n    var responsiveOptions = [\r\n      ['screen and (min-width: 640px)', {\r\n        chartPadding: 30,\r\n        labelOffset: 100,\r\n        labelDirection: 'explode',\r\n        labelInterpolationFnc: function(value) {\r\n          return value;\r\n        }\r\n      }],\r\n      ['screen and (min-width: 1024px)', {\r\n        labelOffset: 60,\r\n        chartPadding: 20\r\n      }]\r\n    ];\r\n\r\n    var sum = function(a, b) { return a + b };\r\n\r\n    new Chartist.Pie('.status-survey', data, options, responsiveOptions);\r\n\r\n    $(\".status-survey\").append('<label for=\"survey-chart\" class=\"col-form-label\" style=\"display: block; text-align:center;\">Survey Status</label>')\r\n  }\r\n\r\n  function commentChart(commentRecord) {\r\n    $(\".status-comment\").empty()\r\n    var info = 0\r\n    var wr = 0\r\n    var dll = 0\r\n    var comment = commentRecord.map(e => e.comment)\r\n    comment.forEach(e => {\r\n      if (e != null) {\r\n        if (e != 'null'){\r\n          var temp = JSON.parse(e).shift();\r\n          if (temp == \"Info\"){\r\n            info=+1\r\n          } else if (temp == \"Wakil Rakyat\") {\r\n            wr=+1\r\n          } else if (temp == \"Lain-Lain\") {\r\n            dll=+1\r\n          }\r\n        } else {\r\n          info = 1;\r\n        }\r\n      }\r\n    })\r\n\r\n    var data = {\r\n      labels: ['Info', 'Wakil Rakyat', 'Lain-Lain'],\r\n      series: [info, wr, dll]\r\n    }\r\n\r\n    var options = {\r\n      labelInterpolationFnc: function(value) {\r\n        return value[0]\r\n      }\r\n    }\r\n\r\n    var responsiveOptions = [\r\n      ['screen and (min-width: 640px)', {\r\n        chartPadding: 30,\r\n        labelOffset: 100,\r\n        labelDirection: 'explode',\r\n        labelInterpolationFnc: function(value) {\r\n          return value;\r\n        }\r\n      }],\r\n      ['screen and (min-width: 1024px)', {\r\n        labelOffset: 60,\r\n        chartPadding: 20\r\n      }]\r\n    ]\r\n\r\n    new Chartist.Pie('.status-comment', data, options, responsiveOptions)\r\n\r\n    $(\".status-comment\").append('<label for=\"comment-chart\" class=\"col-form-label\" style=\"display: block; text-align:center;\">Comment Record</label>')\r\n  }\r\n\r\n  function phoneChart(phoneRecord) {\r\n    $(\".status-phone\").empty()\r\n\r\n    var sn = 0    //salah nombor\r\n    var tw = 0    //tidak wujud\r\n    var hk = 0    //hubungi kemudian\r\n    var tm = 0    //tidak berminat\r\n\r\n    var phone = phoneRecord.map(e => e.status_phone)\r\n\r\n    phone.forEach(e => {\r\n      if (e != null) {\r\n        if (e != 'null'){\r\n          var len = JSON.parse(e).length\r\n          var temp = JSON.parse(e)\r\n          for(i=0;i<len;i++){\r\n            if (temp[i] == \"Salah No\"){\r\n              sn=+1\r\n            } else if (temp[i] == \"Tak Wujud\") {\r\n              tw=+1\r\n            } else if (temp[i] == \"Hubungi Kemudian\") {\r\n              hk=+1\r\n            } else if (temp[i] == \"Tak Minat\") {\r\n              tm=+1\r\n            }\r\n          }\r\n        } else {\r\n          sn = 1;\r\n\r\n        }\r\n      }\r\n    })\r\n\r\n    var data = {\r\n      labels: ['Salah Nombor', 'Tidak Wujud', 'Hubungi Kemudian', \"Tak Berminat\"],\r\n      series: [sn, tw, hk, tm]\r\n    }\r\n\r\n    var options = {\r\n      labelInterpolationFnc: function(value) {\r\n        return value[0]\r\n      }\r\n    }\r\n\r\n    var responsiveOptions = [\r\n      ['screen and (min-width: 640px)', {\r\n        chartPadding: 30,\r\n        labelOffset: 100,\r\n        labelDirection: 'explode',\r\n        labelInterpolationFnc: function(value) {\r\n          return value;\r\n        }\r\n      }],\r\n      ['screen and (min-width: 1024px)', {\r\n        labelOffset: 60,\r\n        chartPadding: 20\r\n      }]\r\n    ]\r\n\r\n    new Chartist.Pie('.status-phone', data, options, responsiveOptions)\r\n\r\n    $(\".status-phone\").append('<label for=\"phone-chart\" class=\"col-form-label\" style=\"display: block; text-align:center;\">Phone Record</label>')\r\n  }\r\n\r\n  function raceChart(regionRecord) {\r\n    $(\".status-race\").empty()\r\n    const raceData = regionRecord.reduce((acc, survey) => {\r\n    const label = survey.race\r\n    const searchedSurveyIndex = acc.series.findIndex(accSurvey => accSurvey.name === label)\r\n      \r\n    if (searchedSurveyIndex === -1)\r\n      return {\r\n        ...acc,\r\n        labels: [\r\n          ...acc.labels, \r\n          label\r\n        ],\r\n        series: [ \r\n          ...acc.series,\r\n          {\r\n            name: label, \r\n            value: 1\r\n          }\r\n        ]\r\n      }\r\n      \r\n    acc.series[searchedSurveyIndex].value += 1\r\n    return acc\r\n    }, {labels: [], series: []})\r\n\r\n    new Chartist.Pie(\r\n      '#race-chart', \r\n      raceData, \r\n      {\r\n        labelInterpolationFnc: function(value) {\r\n          const survey = raceData.series.find(accSurvey => accSurvey.name === value)\r\n          const amount = survey.value\r\n\r\n          const total = raceData.series.reduce((acc, a) => acc + a.value, 0)\r\n          return value + ' ' + Math.round(amount / total * 100) + '%'\r\n        }\r\n      },\r\n      [\r\n        ['screen and (min-width: 640px)', {\r\n          chartPadding: 30,\r\n          labelOffset: 100,\r\n          labelDirection: 'explode',\r\n          labelInterpolationFnc: function(value) {\r\n            const survey = raceData.series.find(accSurvey => accSurvey.name === value)\r\n            const amount = survey.value\r\n\r\n            const total = raceData.series.reduce((acc, a) => acc + a.value, 0)\r\n            return value + ' ' + Math.round(amount / total * 100) + '%'\r\n          }\r\n        }],\r\n        ['screen and (min-width: 1024px)', {\r\n          labelOffset: 60,\r\n          chartPadding: 20\r\n        }]\r\n      ]\r\n    )\r\n        $(\".status-race\").append('<label for=\"survey-chart\" class=\"col-form-label\" style=\"display: block; text-align:center;\">Race Distribution</label>')\r\n  }\r\n\r\n  function questionChart(questionRecord) {\r\n    $(\".status-question\").empty()\r\n    var status_survey = 0\r\n    var res1 = questionRecord.filter(e => status_survey == e.status)\r\n    if(res1.length){\r\n      var resp = res1.map(e => e.question_survey)\r\n      var noofQuestion = JSON.parse(resp[0]).length\r\n      var naming = []\r\n      var data_set = []\r\n      for(i=0;i<noofQuestion;i++){\r\n        naming.push(`Soalan ${i+1}`)\r\n      }\r\n      \r\n      const newResp = resp.map(a => JSON.parse(a))\r\n      var soalan4 = null;\r\n      var soalan5 = null;\r\n      var soalan6 = null;\r\n\r\n      const soalan1 = newResp.map(([first]) => first)\r\n      const soalan2 = newResp.map(([_,second]) => second)\r\n      const soalan3 = newResp.map(([_,s,third]) => third)\r\n      if(noofQuestion>3){\r\n        soalan4 = newResp.map(([_,s,t,forth]) => forth)\r\n        if(noofQuestion>4){\r\n          soalan5 = newResp.map(([_,s,t,f,fifth]) => fifth)\r\n          if(noofQuestion>5){\r\n            soalan6 = newResp.map(([_,s,t,f,fi,sixth]) => sixth)\r\n          }\r\n        }\r\n      }\r\n\r\n      var pokemon = [soalan1,soalan2,soalan3,soalan4,soalan5,soalan6]\r\n\r\n      pokemon.forEach(e => {\r\n        if(e!=null) {\r\n          if(e!='null') {\r\n            var size = e.length\r\n            var ya = 0\r\n            var tak = 0 \r\n            var tp = 0\r\n            for(i=0;i<size;i++){\r\n              if(e[i]==\"Ya\"){\r\n                ya=ya+1\r\n              } else if (e[i]==\"Tidak\") {\r\n                tak=tak+1\r\n              } else if (e[i]==\"Tidak Pasti\"){\r\n                tp=tp+1\r\n              }\r\n            }\r\n            data_set.push([ya,tak,tp])\r\n          }\r\n        }\r\n      })\r\n\r\n      new Chartist.Bar('.status-question', {\r\n        labels: naming,\r\n        series: data_set\r\n      }, {\r\n        // Default mobile configuration\r\n        stackBars: true,\r\n        axisX: {\r\n          labelInterpolationFnc: function(value) {\r\n            return value.split(/\\s+/).map(function(word) {\r\n              return word[0];\r\n            }).join('');\r\n          }\r\n        },\r\n        axisY: {\r\n          offset: 20\r\n        }\r\n      }, [\r\n        // Options override for media > 400px\r\n        ['screen and (min-width: 400px)', {\r\n          reverseData: true,\r\n          horizontalBars: true,\r\n          axisX: {\r\n            labelInterpolationFnc: Chartist.noop\r\n          },\r\n          axisY: {\r\n            offset: 60\r\n          }\r\n        }],\r\n        // Options override for media > 800px\r\n        ['screen and (min-width: 800px)', {\r\n          stackBars: false,\r\n          seriesBarDistance: 10\r\n        }],\r\n        // Options override for media > 1000px\r\n        ['screen and (min-width: 1000px)', {\r\n          reverseData: false,\r\n          horizontalBars: false,\r\n          seriesBarDistance: 15\r\n        }]\r\n      ]);\r\n\r\n      $(\".status-question\").append('<label for=\"survey-question\" class=\"col-form-label\" style=\"display: block; text-align:center;\">Question Set</label>')\r\n    }\r\n  }\r\n\r\n  function displaySasaran(sets, name) {\r\n    var size = Object.keys(sets).length;\r\n    document.getElementById(\"jumlahSurvey\").innerHTML = size;\r\n    document.getElementById(\"cardSurvey\").style.display = \"block\";\r\n    document.getElementById(\"namaRegion\").innerHTML = name;\r\n    document.getElementById(\"title\").innerHTML = \"<b><u>Jumlah Sasaran</u></b>\"\r\n  }\r\n\r\n  async function questionDist(surveys) {\r\n    $('.status-questionDist-chart').empty()\r\n\r\n    const questionDistData = await questionDistributionData(surveys, '"
    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"url","hash":{},"data":data}) : helper)))
    + "')\r\n\r\n    const labels = Object.keys(questionDistData)\r\n    const graphQuestData = labels.reduce((acc, key) => {\r\n      return {\r\n        ...acc, \r\n        series: [\r\n          ...acc.series, \r\n          {\r\n            name: key, \r\n            value: questionDistData[key]\r\n          }\r\n        ],\r\n        labels: [\r\n          ...acc.labels,\r\n          key\r\n        ]\r\n      }\r\n    }, {\r\n      series: [],\r\n      labels: []\r\n    })\r\n\r\n    const options = {\r\n      labelInterpolationFnc: value => interpolation(value),\r\n      chartPadding: 20,\r\n      labelOffset: 20,\r\n      labelDirection: 'explode',\r\n    }\r\n\r\n    new Chartist.Pie(\r\n      '#questionDist-chart', \r\n      graphQuestData, \r\n      options\r\n    )\r\n\r\n    function interpolation(value) {\r\n      const survey = graphQuestData.series.find(accSurvey => accSurvey.name === value)\r\n      const amount = survey.value\r\n      const total = graphQuestData.series.reduce((acc, a) => acc + a.value, 0)\r\n      if (total===0 && amount===0) return ''\r\n      return value + ' ' + Math.round(amount / total * 100) + '%'\r\n    }\r\n\r\n    $(\".status-questionDist-chart\").append('<label class=\"col-form-label\" style=\"display: block; text-align:center;\">Question Group Distribution</label>')\r\n  }\r\n\r\n\r\n  function viewDetails() {\r\n    window.location.href = \"index.html#survey-record\";\r\n  }\r\n</script>\r\n";
},"useData":true});

this["Template"]["templates"]["survey"] = Handlebars.template({"1":function(container,depth0,helpers,partials,data) {
    return "										<div class=\"profile-image float-md-right\"> <img src=\"/img/avatar6.jpg\" alt=\"\"> </div>\r\n";
},"3":function(container,depth0,helpers,partials,data) {
    return "										<div class=\"profile-image float-md-right\"> <img src=\"/img/avatar22.jpg\" alt=\"\"> </div>\r\n";
},"5":function(container,depth0,helpers,partials,data) {
    var alias1=container.escapeExpression;

  return "										<tr>\r\n												<td style=\"width: 50px;\">\r\n														<label class=\"fancy-checkbox\">\r\n																<input class=\"checkbox-tick\" type=\"checkbox\" name=\"checkbox\">\r\n																<span></span>\r\n														</label>\r\n												</td>\r\n\r\n												<td>\r\n														<span class=\"phone\"><i class=\"fa fa-phone m-r-10\"></i>"
    + alias1(container.lambda(depth0, depth0))
    + "</span>\r\n												</td>\r\n												<td>\r\n														<button type=\"button\" class=\"btn btn-info\" title=\"Edit\"><i class=\"icon-call-out\"></i></button>\r\n														<button type=\"button\" data-type=\"confirm\" class=\"btn btn-danger js-sweetalert\" title=\"Delete\"><i class=\"fa fa-refresh\"></i></button>\r\n												</td>\r\n												<td>\r\n														<select class=\"custom-select\" name=\"phone\" id=\"p"
    + alias1((helpers.index || (depth0 && depth0.index) || helpers.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),(data && data.index),{"name":"index","hash":{},"data":data}))
    + "\" required>\r\n																<option style=\"text-align:center;\" selected>--- Pilih ---</option>\r\n																<option value=\"Salah No\">Salah Nombor</option>\r\n																<option value=\"Tak Wujud\">Tidak Wujud</option>\r\n																<option value=\"Hubungi Kemudian\">Hubungi Kemudian</option>\r\n																<option value=\"Tak Minat\">Tidak Berminat</option>\r\n														</select>\r\n												</td>\r\n										</tr>\r\n";
},"7":function(container,depth0,helpers,partials,data) {
    var alias1=container.escapeExpression, alias2=depth0 != null ? depth0 : (container.nullContext || {}), alias3=helpers.helperMissing;

  return "										<tr>\r\n												<td>\r\n														<p>"
    + alias1(container.lambda(depth0, depth0))
    + "</p>\r\n												</td>\r\n												<td>\r\n														<div class=\"fancy-radio\">\r\n																<label><input id=\"q"
    + alias1((helpers.index || (depth0 && depth0.index) || alias3).call(alias2,(data && data.index),{"name":"index","hash":{},"data":data}))
    + "\" name=\"soalan "
    + alias1((helpers.index || (depth0 && depth0.index) || alias3).call(alias2,(data && data.index),{"name":"index","hash":{},"data":data}))
    + "\" value=\"Ya\" type=\"radio\"><span><i></i>Ya</span></label>\r\n														</div>\r\n												</td>\r\n												<td>\r\n														<div class=\"fancy-radio\">\r\n																<label><input id=\"q"
    + alias1((helpers.index || (depth0 && depth0.index) || alias3).call(alias2,(data && data.index),{"name":"index","hash":{},"data":data}))
    + "\" name=\"soalan "
    + alias1((helpers.index || (depth0 && depth0.index) || alias3).call(alias2,(data && data.index),{"name":"index","hash":{},"data":data}))
    + "\" value=\"Tidak\" type=\"radio\"><span><i></i>Tidak</span></label>\r\n														</div>\r\n												</td>\r\n												<td>\r\n														<div class=\"fancy-radio\">\r\n																<label><input id=\"q"
    + alias1((helpers.index || (depth0 && depth0.index) || alias3).call(alias2,(data && data.index),{"name":"index","hash":{},"data":data}))
    + "\" name=\"soalan "
    + alias1((helpers.index || (depth0 && depth0.index) || alias3).call(alias2,(data && data.index),{"name":"index","hash":{},"data":data}))
    + "\" value=\"Tidak Pasti\" type=\"radio\"><span><i></i>Tak Pasti</span></label>\r\n\r\n														</div>\r\n												</td>\r\n										</tr>\r\n";
},"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.lambda, alias3=container.escapeExpression, alias4=helpers.helperMissing, alias5="function";

  return "<div class=\"block-header\">\r\n<div class=\"row\">\r\n		<div class=\"col-lg-5 col-md-8 col-sm-12\">\r\n				<h2>Survey</h2>\r\n		</div>\r\n		<div class=\"col-lg-7 col-md-4 col-sm-12 text-right\">\r\n				<ul class=\"breadcrumb justify-content-end\">\r\n						<li class=\"breadcrumb-item\"><a href=\"index.html\"><i class=\"icon-home\"></i></a></li>\r\n						<li class=\"breadcrumb-item\">Operator</li>\r\n						<li class=\"breadcrumb-item active\">Survey</li>\r\n				</ul>\r\n		</div>\r\n</div>\r\n</div>\r\n\r\n<div class=\"row clearfix\">\r\n<div class=\"col-lg-8 col-md-12\">\r\n		<div class=\"card w_profile\">\r\n				<div class=\"body\" style=\"padding-top: 30px; padding-bottom: 30px\">\r\n						<div class=\"row\">\r\n								<div class=\"col-lg-4 col-md-4 col-12\">\r\n"
    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.gender : depth0),{"name":"if","hash":{},"fn":container.program(1, data, 0),"inverse":container.program(3, data, 0),"data":data})) != null ? stack1 : "")
    + "								</div>\r\n								<div class=\"col-lg-8 col-md-8 col-12\">\r\n										<h4 class=\"m-t-0 m-b-0 survey\">"
    + alias3(alias2(((stack1 = ((stack1 = (depth0 != null ? depth0.survey : depth0)) != null ? stack1["0"] : stack1)) != null ? stack1.name : stack1), depth0))
    + "</h4>\r\n\r\n										<p class=\"survey\">"
    + alias3(alias2(((stack1 = ((stack1 = (depth0 != null ? depth0.survey : depth0)) != null ? stack1["0"] : stack1)) != null ? stack1.address : stack1), depth0))
    + "</p>\r\n\r\n										<div class=\"row\">\r\n												<div class=\"col-4\">\r\n														<h5 class=\"survey\">"
    + alias3(alias2(((stack1 = ((stack1 = (depth0 != null ? depth0.survey : depth0)) != null ? stack1["0"] : stack1)) != null ? stack1.gender : stack1), depth0))
    + "</h5>\r\n														<small>Jantina</small>\r\n												</div>\r\n												<div class=\"col-4\">\r\n														<h5 class=\"survey\">"
    + alias3(alias2(((stack1 = ((stack1 = (depth0 != null ? depth0.survey : depth0)) != null ? stack1["0"] : stack1)) != null ? stack1.race : stack1), depth0))
    + "</h5>\r\n														<small>Bangsa</small>\r\n												</div>\r\n												<div class=\"col-4\">\r\n														<h5 class=\"survey\">"
    + alias3(alias2(((stack1 = ((stack1 = (depth0 != null ? depth0.survey : depth0)) != null ? stack1["0"] : stack1)) != null ? stack1.location : stack1), depth0))
    + "</h5>\r\n														<small>Lokasi</small>\r\n												</div>\r\n										</div>\r\n										<div class=\"m-t-15\">\r\n												<button id=\"startButton\" class=\"btn btn-primary js-sweetalert\">Mula Survey</button>\r\n												<button id=\"resetButton\" class=\"btn btn-success\">Reset Caller</button>\r\n												<button id=\"cancelButton\" class=\"btn btn-danger\" onclick=\"cancelSurvey('"
    + ((stack1 = alias2(((stack1 = (depth0 != null ? depth0.profile : depth0)) != null ? stack1.username : stack1), depth0)) != null ? stack1 : "")
    + "')\">Cancel Survey</button>\r\n										</div>\r\n								</div>\r\n						</div>\r\n				</div>\r\n		</div>\r\n		<div class=\"card\">\r\n				<h5 class=\"card-header\">Pembuka Kata</h5>\r\n				<div class=\"card-body\">\r\n						<h5 class=\"card-title\">Pastikan anda tidak tinggikan suara</h5>\r\n						<p class=\"card-text\">Selamat pagi/petang "
    + alias3(alias2(((stack1 = ((stack1 = (depth0 != null ? depth0.survey : depth0)) != null ? stack1["0"] : stack1)) != null ? stack1.name : stack1), depth0))
    + " haraf maaf kerana menggangu. Saya (Nama Operator) ingin membuat.......</p>\r\n\r\n				</div>\r\n		</div>\r\n</div>\r\n\r\n<div class=\"col-lg-4 col-md-12\">\r\n		<div class=\"card member-card\">\r\n				<div class=\"header bg-info\">\r\n						<h4 class=\"m-t-5 text-light\"><strong>Operator</strong></h4>\r\n				</div>\r\n				<div class=\"member-img\">\r\n						<a href=\"javascript:void(0);\"><img src=\"img/avatar2.jpg\" class=\"rounded-circle\" alt=\"profile-image\"></a>\r\n				</div>\r\n				<div class=\"body\">\r\n						<div class=\"col-12\">\r\n								<h4 class=\"m-t-5\"><strong>"
    + alias3(alias2(((stack1 = (depth0 != null ? depth0.profile : depth0)) != null ? stack1.username : stack1), depth0))
    + "</strong></h4>\r\n								<p class=\"text-muted\">13 / 03 / 2019 <br> Lokasi CCS</p>\r\n						</div>\r\n						<hr>\r\n						<div class=\"row\">\r\n								<div class=\"col-4\">\r\n										<h5>0</h5>\r\n										<small>Survey Berjaya</small>\r\n								</div>\r\n								<div class=\"col-4\">\r\n										<h5>"
    + alias3(alias2(((stack1 = (depth0 != null ? depth0.profile : depth0)) != null ? stack1.laptop_id : stack1), depth0))
    + "</h5>\r\n										<small>Caller ID</small>\r\n								</div>\r\n								<div class=\"col-4\">\r\n										<h5>0</h5>\r\n										<small>Jumlah Survey</small>\r\n								</div>\r\n						</div>\r\n				</div>\r\n		</div>\r\n</div>\r\n</div>\r\n\r\n\r\n\r\n<div class=\"row clearfix\">\r\n<div class=\"col-lg-8 col-md-12\">\r\n\r\n		<div class=\"card\">\r\n				<div class=\"header\">\r\n						<h2>Nombor Telefon</h2>\r\n				</div>\r\n				<div class=\"body\">\r\n						<div class=\"table-responsive\">\r\n								<table class=\"table table-hover m-b-0 c_list datatable\">\r\n										<thead>\r\n										<tr>\r\n												<th>\r\n														<label class=\"fancy-checkbox\">\r\n																<input class=\"select-all\" type=\"checkbox\" name=\"checkbox\">\r\n																<span></span>\r\n														</label>\r\n												</th>\r\n												<th>Phone</th>\r\n												<th>Tindakan</th>\r\n												<th>Status</th>\r\n										</tr>\r\n										</thead>\r\n										<tbody>\r\n"
    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.phone : depth0),{"name":"each","hash":{},"fn":container.program(5, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
    + "										</tbody>\r\n								</table>\r\n						</div>\r\n				</div>\r\n		</div>\r\n\r\n		<div class=\"card\">\r\n				<div class=\"header\">\r\n					<h2>"
    + alias3(alias2(((stack1 = (depth0 != null ? depth0.ques : depth0)) != null ? stack1.set_name : stack1), depth0))
    + "</h2>\r\n				</div>\r\n				<div class=\"body\">\r\n						<div class=\"table-responsive\">\r\n								<table class=\"table table-hover m-b-0\">\r\n										<thead>\r\n										<tr>\r\n												<th>Soalan</th>\r\n												<th>Ya</th>\r\n												<th>Tidak</th>\r\n												<th>Tak Pasti</th>\r\n										</tr>\r\n										</thead>\r\n										<tbody>\r\n"
    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.soalan : depth0),{"name":"each","hash":{},"fn":container.program(7, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
    + "										</tbody>\r\n								</table>\r\n						</div>\r\n\r\n				</div>\r\n		</div>\r\n</div>\r\n<div class=\"col-lg-4 col-md-12\">\r\n		<div class=\"card\">\r\n				<div class=\"header\">\r\n						<h2>Comments <small>Komen yang diterima daripada pemanggil.</small></h2>\r\n				</div>\r\n				<div class=\"body\">\r\n						<h6>Jenis Komen</h6>\r\n						<div class=\"input-group mb-3\">\r\n								<div class=\"input-group-prepend\">\r\n										<label class=\"input-group-text\" for=\"comment\">Options</label>\r\n								</div>\r\n								<select id=\"comment\" class=\"custom-select\">\r\n										<option style=\"text-align:center;\" selected>--- Pilih ---</option>\r\n										<option value=\"Info\">Info</option>\r\n										<option value=\"Wakil Rakyat\">Wakil Rakyat</option>\r\n										<option value=\"Lain-Lain\">Lain-Lain</option>\r\n								</select>\r\n						</div>\r\n						<div class=\"input-group\">\r\n								<div class=\"input-group-prepend\">\r\n										<span class=\"input-group-text\">Komen</span>\r\n								</div>\r\n								<textarea class=\"form-control\" id=\"comment2\" aria-label=\"Komen\"></textarea>\r\n						</div>\r\n\r\n				</div>\r\n		</div>\r\n		<div class=\"card\">\r\n				<div class=\"header\">\r\n						<h2>Terima kasih kerana membantu kajiselidik ini. Adakah tuan/puan berminat untuk menyumbang kepada pembangunan negeri?</h2>\r\n				</div>\r\n				<div class=\"body\">\r\n						<div class=\"fancy-radio\">\r\n								<label>\r\n									<input name=\"kawalan\" id=\"status\" value=\"Ya\" type=\"radio\" ><span><i></i>Ya</span>\r\n								</label>\r\n								<label>\r\n									<input name=\"kawalan\" id=\"status\" value=\"Tidak\" type=\"radio\" ><span><i></i>Tidak</span>\r\n								</label>\r\n						</div>\r\n				</div>\r\n		</div>\r\n		<div class=\"card\">\r\n				<div class=\"body\">\r\n				<h6>Pastikan semua info di atas ada tepat</h6>\r\n						<button id=\"stopButton\" type=\"button\" class=\"btn btn-success\" onclick=\"submitSurvey()\">Submit</button>\r\n						<button type=\"button\" data-type=\"confirm\" class=\"btn btn-danger\" title=\"Delete\" onclick=\"resetSurvey()\">Reset</button>\r\n				</div>\r\n		</div>\r\n</div>\r\n</div>\r\n<script>\r\n\r\n	$(\"#q1, #q2, #q3, #status\").prop('checked', false);\r\n\r\n	$(\".survey\").text(function () {\r\n    return $(this).text().replace(/(\\w)(\\w*)/g, (_, firstChar, rest) => firstChar + rest.toLowerCase()); \r\n	});\r\n	\r\n	var timer = new Timer();\r\n\r\n	$(\"#startButton\").click(function(){\r\n		timer.start();\r\n		Swal.fire({\r\n			title: \"Survey\",\r\n			text: \"The time starts now !\",\r\n			type: \"success\"\r\n		});\r\n	})\r\n\r\n	$(\"#stopButton\").click(function(){\r\n		timer.stop();\r\n	})\r\n\r\n	$(\"#resetButton\").click(function(){\r\n		timer.reset();\r\n		Swal.fire({\r\n			title: \"Survey\",\r\n			text: \"The time has reset !\",\r\n			type: \"warning\"\r\n		});\r\n	})\r\n	\r\n	function resetSurvey(){\r\n		$(\"#q1, #q2, #q3, #status\").prop('checked', false);\r\n		$('#comment, select[name=\"phone\"]').prop('selectedIndex',0);\r\n		$('#comment2').val('');\r\n	}\r\n\r\n	var question_response;\r\n\r\n	async function submitSurvey() {\r\n		try {\r\n			var time_taken = timer.getTimeValues().toString()\r\n			var arr = []	//question survey\r\n			var arr2 = [] //phonestatus\r\n			var num = "
    + alias3((helpers.length || (depth0 && depth0.length) || alias4).call(alias1,(depth0 != null ? depth0.soalan : depth0),{"name":"length","hash":{},"data":data}))
    + "\r\n			var num2 = "
    + alias3((helpers.length || (depth0 && depth0.length) || alias4).call(alias1,(depth0 != null ? depth0.phone : depth0),{"name":"length","hash":{},"data":data}))
    + "\r\n			var survey = "
    + ((stack1 = (helpers.json || (depth0 && depth0.json) || alias4).call(alias1,(depth0 != null ? depth0.survey : depth0),{"name":"json","hash":{},"data":data})) != null ? stack1 : "")
    + "\r\n			var profile = "
    + ((stack1 = (helpers.json || (depth0 && depth0.json) || alias4).call(alias1,(depth0 != null ? depth0.profile : depth0),{"name":"json","hash":{},"data":data})) != null ? stack1 : "")
    + "\r\n			for (i = 1; i <= num; i++) {\r\n				arr.push($(`input[id=\"q${i}\"]:checked`).val());\r\n			}\r\n			for (i = 1; i <= num2; i++) {\r\n				arr2.push($(`select[id=\"p${i}\"]`).val());\r\n			}\r\n\r\n			var comment = []\r\n			comment.push($('select[id=\"comment\"]').val())\r\n			comment.push($('textarea#comment2').val())\r\n\r\n			var status_survey = $(`input[id=\"status\"]:checked`).val()\r\n\r\n			var formData = JSON.stringify({\r\n				id: survey[0].id,\r\n				gender: survey[0].gender,\r\n				phone: survey[0].phone,\r\n				race: survey[0].race,\r\n				name:survey[0].name,\r\n				address: survey[0].address,\r\n				question_survey: arr,\r\n				comment: comment,\r\n				status_survey: status_survey,\r\n				call_duration: time_taken,\r\n				operator_id: profile.username,\r\n				status_phone: arr2,\r\n				status: 0,\r\n			});\r\n\r\n			Swal.fire({\r\n				title: \"Survey\",\r\n				text: \"Please refill the form\",\r\n				type: \"error\"\r\n			}).then(result => {\r\n						if (result.value) {\r\n							window.location.reload();\r\n						}\r\n			});\r\n			var id = survey[0].id\r\n			const updateStatus = await fetch(`"
    + alias3(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias1,{"name":"url","hash":{},"data":data}) : helper)))
    + "survey/${id}/edit`, {\r\n				method: \"post\",\r\n				headers: {\r\n				credentials: 'include',\r\n				Accept: \"application/json\",\r\n				\"Content-type\": \"application/json\",\r\n				Authorization: `bearer ${sessionStorage.getItem(\"token\")}`,\r\n				'Cache-Control': 'no-cache'\r\n				},\r\n				body: formData\r\n			});\r\n\r\n			const updated = await updateStatus.json();\r\n			if(updated.status){\r\n				Swal.fire({\r\n					title: \"Survey\",\r\n					text: \"Survey submitted !\",\r\n					type: \"success\"\r\n				}).then(result => {\r\n							if (result.value) {\r\n								window.location.href = \"index.html\";\r\n							}\r\n				});\r\n			}\r\n		} catch(err) { \r\n			console.log(err) }\r\n		}	\r\n\r\nasync function cancelSurvey(name){\r\n    try {\r\n      var survey = "
    + ((stack1 = (helpers.json || (depth0 && depth0.json) || alias4).call(alias1,(depth0 != null ? depth0.survey : depth0),{"name":"json","hash":{},"data":data})) != null ? stack1 : "")
    + "\r\n			var id = survey[0].id\r\n      var formData = JSON.stringify({\r\n        id: survey[0].id,\r\n        gender: survey[0].gender,\r\n        phone: survey[0].phone,\r\n        race: survey[0].race,\r\n        name:survey[0].name,\r\n        address: survey[0].address,\r\n        question_survey: null,\r\n        comment: null,\r\n        status_survey: null,\r\n        call_duration: null,\r\n        operator_id: name,\r\n        status_phone: null,\r\n        status: 2\r\n      });\r\n      const updateStatus = await fetch(`"
    + alias3(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias1,{"name":"url","hash":{},"data":data}) : helper)))
    + "survey/${id}/edit`, {\r\n        method: \"post\",\r\n        headers: {\r\n        credentials: 'include',\r\n        Accept: \"application/json\",\r\n        \"Content-type\": \"application/json\",\r\n        Authorization: `bearer ${sessionStorage.getItem(\"token\")}`,\r\n				'Cache-Control': 'no-cache'\r\n        },\r\n        body: formData\r\n      });\r\n\r\n      const cancel = await updateStatus.json();\r\n\r\n      if (cancel.status) {\r\n        window.location.href = \"index.html\";\r\n      } else {\r\n        Swal.fire({\r\n          title: \"Fail\",\r\n          text: \"Unable to cancel survey\",\r\n          type: \"error\"\r\n        });\r\n      }\r\n    } catch (err) { \r\n      console.log(err) \r\n			}\r\n}	\r\n</script>";
},"useData":true});

this["Template"]["templates"]["surveyRecord"] = Handlebars.template({"1":function(container,depth0,helpers,partials,data) {
    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3="function", alias4=container.escapeExpression;

  return "                <tr class=\"gradeA\" style=\"text-transform: capitalize;\">\r\n                  <td>"
    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"name","hash":{},"data":data}) : helper)))
    + "</td>\r\n                  <td style=\"text-align: center;\">"
    + alias4(((helper = (helper = helpers.gender || (depth0 != null ? depth0.gender : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"gender","hash":{},"data":data}) : helper)))
    + "</td>\r\n                  <td style=\"text-align: center;\">"
    + alias4(((helper = (helper = helpers.race || (depth0 != null ? depth0.race : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"race","hash":{},"data":data}) : helper)))
    + "</td>\r\n                  <td>"
    + alias4(((helper = (helper = helpers.address || (depth0 != null ? depth0.address : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"address","hash":{},"data":data}) : helper)))
    + "</td>\r\n                  <td style=\"text-align: center;\">"
    + alias4(((helper = (helper = helpers.location || (depth0 != null ? depth0.location : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"location","hash":{},"data":data}) : helper)))
    + "</td>\r\n									<td>"
    + alias4(((helper = (helper = helpers.phone || (depth0 != null ? depth0.phone : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"phone","hash":{},"data":data}) : helper)))
    + "</td>\r\n                  <td style=\"text-align: center;\">"
    + alias4(((helper = (helper = helpers.status_phone || (depth0 != null ? depth0.status_phone : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"status_phone","hash":{},"data":data}) : helper)))
    + "</td>\r\n                  <td style=\"text-align: center;\">"
    + alias4(((helper = (helper = helpers.question_survey || (depth0 != null ? depth0.question_survey : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"question_survey","hash":{},"data":data}) : helper)))
    + "</td>\r\n                  <td>"
    + alias4(((helper = (helper = helpers.comment || (depth0 != null ? depth0.comment : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"comment","hash":{},"data":data}) : helper)))
    + "</td>\r\n                  <td style=\"text-align: center;\">"
    + alias4(((helper = (helper = helpers.call_duration || (depth0 != null ? depth0.call_duration : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"call_duration","hash":{},"data":data}) : helper)))
    + "</td>\r\n                </tr>\r\n";
},"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1;

  return "<style>\r\n  td { text-transform: lowercase; }\r\n  td:first-letter { text-transform: uppercase; }\r\n</style>\r\n\r\n<!-- Listing survey by region -->\r\n<div id=\"list\">\r\n  <div class=\"block-header\">\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-5 col-md-8 col-sm-12\">\r\n      <h2>Surveys</h2>\r\n    </div>\r\n    <div class=\"col-lg-7 col-md-4 col-sm-12 text-right\">\r\n      <ul class=\"breadcrumb justify-content-end\">\r\n        <li class=\"breadcrumb-item\"><a href=\"index.html\"><i class=\"icon-home\"></i></a></li>\r\n        <li class=\"breadcrumb-item\">Surveys</li>\r\n        <li class=\"breadcrumb-item active\">List</li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"row clearfix\">\r\n  <div class=\"col-lg-12\">\r\n    <div class=\"card\">\r\n      <div class=\"header\">\r\n        <h2>List of Surveys</h2>\r\n      </div>\r\n      <div class=\"body\">\r\n        <div class=\"table-responsive\">\r\n          <table class=\"table table-bordered table-hover table-striped datatable\" id=\"addrowExample\">\r\n            <thead>\r\n              <tr style=\"text-align: center;\">\r\n                <th>Name</th>\r\n                <th>Gender</th>\r\n                <th>Race</th>\r\n                <th>Address</th>\r\n								<th>Location</th>\r\n                <th>Phone No.</th>\r\n								<th>Phone Status.</th>\r\n								<th>Question Resp.</th>\r\n								<th>Comment</th>\r\n								<th>Call Duration</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n"
    + ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.successSurveys : depth0),{"name":"each","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
    + "            </tbody>\r\n            <tfoot>\r\n              <tr style=\"text-align: center;\">\r\n                <th>Name</th>\r\n                <th>Gender</th>\r\n                <th>Race</th>\r\n                <th>Address</th>\r\n								<th>Location</th>\r\n                <th>Phone No.</th>\r\n								<th>Phone Status.</th>\r\n								<th>Question Resp.</th>\r\n								<th>Comment</th>\r\n								<th>Call Duration</th>\r\n              </tr>\r\n            </tfoot>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"row\">\r\n	<div class=\"col-md-12\">\r\n		<div style=\"float:right;\">\r\n			<button class=\"btn btn-primary\" onclick=\"back()\">Back to Statistics</button>\r\n		</div>\r\n	</div>\r\n</div>\r\n</div>\r\n<script>\r\n  $(document).ready(() => {\r\n    $(\"table.datatable\").dataTable();\r\n  })\r\n\r\n	function back(){\r\n		window.location.href = \"index.html#result\";\r\n	}\r\n</script>";
},"useData":true});

this["Template"]["templates"]["uploadSasaran"] = Handlebars.template({"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
    var helper;

  return "<link rel=\"stylesheet\" href=\"/css/spinner.css\">\r\n<div class=\"row clearfix\">\r\n  <div class=\"col-lg-12 col-md-12\">\r\n    <div class=\"card\">\r\n      <div class=\"header\">\r\n        <h2>Limit file type <small>only accept excel file</small></h2>\r\n      </div>\r\n      <form id=\"csvForm\">\r\n        <div class=\"body\">\r\n          <input type=\"file\" class=\"dropify\" id=\"file\" data-allowed-file-extensions=\"xls xlsx csv\">\r\n          <div class=\"d-flex justify-content-end my-2\">\r\n            <button type=\"submit\" class=\"btn btn-info\">\r\n              Submit\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"warning-message\">\r\n  <div class=\"message-content\">\r\n    Please wait while data is processing...\r\n  </div>\r\n</div>\r\n\r\n<script>\r\n  $('.dropify').dropify()\r\n\r\nvar csvData = []\r\n\r\n$(\"#file\").change(function (e) {\r\n  if (e.target.files.length) {\r\n    $('button.btn.btn-info').attr('disabled', '').toggleClass('spinner')\r\n    $('.warning-message').css('visibility', 'visible')\r\n    var reader = new FileReader();\r\n    reader.onload = async function (e) {\r\n      csvResult = e.target.result.split(/\\r|\\n|\\r\\n/);\r\n      const csvKeys = csvResult[0]\r\n        .split(',')\r\n\r\n      const csv = csvResult\r\n        .map(res => res.split(/,(?![ +])/gm))\r\n        .filter(arr => arr.length > 1)\r\n\r\n      csvData = (await applyValues(csv, csvKeys))\r\n        .filter(d => d)\r\n        .filter(d => d.hasOwnProperty('alamatterkinidaerah'))\r\n\r\n      $('.warning-message').css('visibility', 'hidden')\r\n      $('button.btn.btn-info').removeAttr('disabled').toggleClass('spinner')\r\n\r\n    }\r\n    reader.readAsText(e.target.files.item(0));\r\n  }\r\n\r\n  const applyValues = async (arr, objects) => {\r\n    return new Promise(async (resolve, reject) => {\r\n      const values = arr.map((outer, i) => {\r\n        if (i > 0) {\r\n          let obj = {}\r\n          outer.forEach((inner, index, arr) => {\r\n            if (arr.length > 1) {\r\n              obj[objects[index]] = inner\r\n            }\r\n          })\r\n          return obj\r\n        }\r\n      })\r\n\r\n      return resolve(values)\r\n    })\r\n  }\r\n});\r\n\r\n$('#csvForm').submit(async e => {\r\n  e.preventDefault()\r\n  if (csvData.length) {\r\n    $('button.btn.btn-info').attr('disabled', '').toggleClass('spinner')\r\n    $('.warning-message').css('visibility', 'visible')\r\n    const submitData = csvData.map(res => {\r\n      const { nama, nric, gender, age, bangsa, dun, lokaliti, alamatterkinilokaliti, alamatterkinilokaliti2, alamatterkinirumah, alamatterkiniposkod, alamatterkininegeri } = res\r\n      const phone = []\r\n      for (let i = 1; i <= 42; i++) {\r\n        const currPhone = res[`tel${i}`]\r\n        if (currPhone)\r\n          phone.push(currPhone)\r\n      }\r\n      return {\r\n        ic: nric,\r\n        name: nama,\r\n        gender: gender,\r\n        age: age,\r\n        race: bangsa,\r\n        region: dun,\r\n        location: lokaliti,\r\n        phone: phone,\r\n        address: `${_(alamatterkinirumah)}${_(alamatterkinilokaliti)}${alamatterkiniposkod} ${_(alamatterkinilokaliti2)}${alamatterkininegeri}`,\r\n      }\r\n    })\r\n\r\n    try {\r\n      const submitSurveys = await fetch('"
    + container.escapeExpression(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"url","hash":{},"data":data}) : helper)))
    + "survey/create', {\r\n        headers: {\r\n          'Authorization': `Bearer ${sessionStorage.getItem('token')}`,\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json'\r\n        },\r\n        method: 'post',\r\n        body: JSON.stringify(submitData)\r\n      })\r\n      if (submitSurveys.status === 401) {\r\n        Swal.fire('Ouupps', 'You are not authorized for this, pls re-login', 'error')\r\n        setTimeout(() => window.location = '/js/pages/page-login.html', 1000)\r\n      }\r\n      const submitSurveysRes = await submitSurveys.json()\r\n\r\n      if (submitSurveysRes.status) {\r\n        Swal.fire('Successful', 'Data inserted', 'success').then(result => {\r\n          if (result.value) {\r\n            window.location.reload()\r\n          }\r\n        });\r\n      }\r\n      else {\r\n        Swal.fire('Ouupps', 'Something went wrong please try again', 'error')\r\n      }\r\n      $('.warning-message').css('visibility', 'hidden')\r\n      $('button.btn.btn-info').removeAttr('disabled').toggleClass('spinner')\r\n    } catch (err) {\r\n      console.log(err)\r\n      Swal.fire('Ouupps', 'Something went wrong please try again', 'error')\r\n      $('.warning-message').css('visibility', 'hidden')\r\n      $('button.btn.btn-info').removeAttr('disabled').toggleClass('spinner')\r\n    }\r\n  }\r\n})\r\n\r\nvar _ = str => str ? `${str}, ` : '';\r\n</script>";
},"useData":true});

this["Template"]["templates"]["userAdmin"] = Handlebars.template({"1":function(container,depth0,helpers,partials,data) {
    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3="function", alias4=container.escapeExpression;

  return "                <tr class=\"gradeA\">\r\n                  <td>"
    + alias4(((helper = (helper = helpers.fullname || (depth0 != null ? depth0.fullname : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"fullname","hash":{},"data":data}) : helper)))
    + "</td>\r\n                  <td>"
    + alias4(((helper = (helper = helpers.username || (depth0 != null ? depth0.username : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"username","hash":{},"data":data}) : helper)))
    + "</td>\r\n                  <td>"
    + alias4(((helper = (helper = helpers.age || (depth0 != null ? depth0.age : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"age","hash":{},"data":data}) : helper)))
    + "</td>\r\n                  <td>"
    + alias4(((helper = (helper = helpers.gender || (depth0 != null ? depth0.gender : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"gender","hash":{},"data":data}) : helper)))
    + "</td>\r\n                  <td>"
    + alias4(((helper = (helper = helpers.race || (depth0 != null ? depth0.race : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"race","hash":{},"data":data}) : helper)))
    + "</td>\r\n                  <td class=\"actions\">\r\n                    <button class=\"btn btn-sm btn-icon btn-pure btn-default on-default m-r-5 button-edit\"\r\n                      data-toggle=\"tooltip\" data-original-title=\"Edit\" onclick=\"edit('"
    + ((stack1 = ((helper = (helper = helpers.username || (depth0 != null ? depth0.username : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"username","hash":{},"data":data}) : helper))) != null ? stack1 : "")
    + "')\"><i\r\n                        class=\"icon-pencil\" aria-hidden=\"true\"></i></button>\r\n                    <button class=\"btn btn-sm btn-icon btn-pure btn-default on-default button-remove\"\r\n                      data-toggle=\"tooltip\" data-original-title=\"Remove\" onclick=\"del('"
    + ((stack1 = ((helper = (helper = helpers.username || (depth0 != null ? depth0.username : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"username","hash":{},"data":data}) : helper))) != null ? stack1 : "")
    + "')\"><i\r\n                        class=\"icon-trash\" aria-hidden=\"true\"></i></button>\r\n                  </td>\r\n                </tr>\r\n";
},"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3="function", alias4=container.escapeExpression;

  return "<div class=\"block-header\">\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-5 col-md-8 col-sm-12\">\r\n      <h2>Admin</h2>\r\n    </div>\r\n    <div class=\"col-lg-7 col-md-4 col-sm-12 text-right\">\r\n      <ul class=\"breadcrumb justify-content-end\">\r\n        <li class=\"breadcrumb-item\"><a href=\"index.html\"><i class=\"icon-home\"></i></a></li>\r\n        <li class=\"breadcrumb-item\">Tetapan</li>\r\n        <li class=\"breadcrumb-item active\">Admin</li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"row clearfix\">\r\n  <div class=\"col-lg-12\">\r\n    <div class=\"card\">\r\n      <div class=\"header\">\r\n        <h2>Senarai Admin</h2>\r\n      </div>\r\n      <div class=\"body\">\r\n        <button id=\"addToTable\" onclick=\"add()\" class=\"btn btn-primary m-b-15\" type=\"button\">\r\n          <i class=\"icon wb-plus\" aria-hidden=\"true\"></i> Tambah Admin\r\n        </button>\r\n        <div class=\"table-responsive\">\r\n          <table class=\"table table-bordered table-hover table-striped datatable\" id=\"addrowExample\">\r\n            <thead>\r\n              <tr>\r\n                <th>Full Name</th>\r\n                <th>Username</th>\r\n                <th>Age</th>\r\n                <th>Gender</th>\r\n                <th>Race</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n\r\n"
    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.oper : depth0),{"name":"each","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
    + "            </tbody>\r\n            <tfoot>\r\n              <tr>\r\n                <th>Full Name</th>\r\n                <th>Username</th>\r\n                <th>Age</th>\r\n                <th>Gender</th>\r\n                <th>Race</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </tfoot>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<script>\r\n\r\n    $(document).ready(() => {\r\n    $(\"table.datatable\").dataTable();\r\n  })\r\n  \r\n  async function add() {\r\n    try {\r\n      const { value } = await Swal.fire({\r\n        title: 'Add new admin',\r\n        html: '<br/><input type=\"text\" class=\"form-control\" id=\"fullname\" placeholder=\"Enter full name\"><br/>' + '<input type=\"text\" class=\"form-control\" id=\"username\" placeholder=\"Enter username\"><br/>' + '<input type=\"password\" class=\"form-control\" id=\"password\" placeholder=\"Enter password\"><br/>' + '<input type=\"age\" class=\"form-control\" id=\"age\" placeholder=\"Enter age\"><br/>' + '<select class=\"form-control\" id=\"gender\">' + '<option selected value=\"\" disabled>Select gender</option>' + '<option value=\"Male\">Male</option>' + '<option value=\"Female\">Female</option></select><br/>' + '<select class=\"form-control\" id=\"race\">' + '<option selected value=\"\" disabled>Select race</option>' + '<option value=\"Melayu\">Melayu</option>' + '<option value=\"Cina\">Cina</option>' + '<option value=\"Penan\">Penan</option>' + '<option value=\"Iban\">Iban/Sea Dayak</option>' + '<option value=\"Bumiputra\">Bumiputra Sarawak</option></select><br/>' + '<input type=\"text\" class=\"form-control\" id=\"role\" value=\"admin\" readonly>',\r\n        focusConfirm: false,\r\n        preConfirm: () => {\r\n          return [\r\n            document.getElementById('fullname').value,\r\n            document.getElementById('username').value,\r\n            document.getElementById('race').value,\r\n            document.getElementById('age').value,\r\n            document.getElementById('role').value,\r\n            document.getElementById('gender').value,\r\n            document.getElementById('password').value\r\n          ]\r\n        }\r\n      })\r\n\r\n      const val = await value;\r\n      if (val) {\r\n        try {\r\n          var formData = JSON.stringify({\r\n            fullname: val[0],\r\n            username: val[1],\r\n            race: val[2],\r\n            age: val[3],\r\n            role: val[4],\r\n            laptop_id: \"LA00\",\r\n            gender: val[5],\r\n            password: val[6],\r\n            region_id: 0\r\n          });\r\n\r\n          const accountCreate = await fetch(`"
    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"url","hash":{},"data":data}) : helper)))
    + "registration`, {\r\n            method: \"post\",\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              'Cache-Control': 'no-cache'\r\n            },\r\n            body: formData\r\n          });\r\n\r\n          const created = await accountCreate.json();\r\n          if (created.insertstatus) {\r\n            Swal.fire({\r\n              title: \"Congratulation\",\r\n              text: \"Successfully Created\",\r\n              type: \"success\"\r\n            }).then(result => {\r\n              if (result.value) {\r\n                window.location.reload();\r\n              }\r\n            });\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Fail\",\r\n              text: \"Please refill the registration form\",\r\n              type: \"error\"\r\n            });\r\n          }\r\n        } catch (err) {\r\n          Swal.fire(\"Something went wrong\", err.message, \"error\");\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n\r\n  async function edit(username) {\r\n    var oper = "
    + ((stack1 = (helpers.json || (depth0 && depth0.json) || alias2).call(alias1,(depth0 != null ? depth0.oper : depth0),{"name":"json","hash":{},"data":data})) != null ? stack1 : "")
    + ";\r\n  const nameList = oper.filter(profiles => username === profiles.username);\r\n\r\n  const { value: formValues } = await Swal.fire({\r\n    title: 'Edit admin',\r\n    html: '<br/><input type=\"text\" class=\"form-control\" id=\"fullname\" value=\"' + nameList[0].fullname + '\"><br/>' + '<input type=\"text\" class=\"form-control\" id=\"username\" value=\"' + nameList[0].username + '\"readonly><br/>' + '<input type=\"password\" class=\"form-control\" id=\"password\" value=\"' + nameList[0].password + '\" readonly><br/>' + '<input type=\"age\" class=\"form-control\" id=\"age\" value=\"' + nameList[0].age + '\"><br/>' + '<select class=\"form-control\" id=\"gender\">' + '<option selected value=\"' + nameList[0].gender + '\" disabled>' + nameList[0].gender + '</option>' + '<option value=\"Male\">Male</option>' + '<option value=\"Female\">Female</option></select><br/>' + '<select class=\"form-control\" id=\"race\">' + '<option selected value=\"' + nameList[0].race + '\" disabled>' + nameList[0].race + '</option>' + '<option value=\"Melayu\">Melayu</option>' + '<option value=\"Cina\">Cina</option>' + '<option value=\"Penan\">Penan</option>' + '<option value=\"Iban\">Iban/Sea Dayak</option>' + '<option value=\"Bumiputra\">Bumiputra Sarawak</option></select><br/>' + '<input type=\"text\" class=\"form-control\" id=\"laptopId\" value=\"' + nameList[0].laptop_id + '\"><br/>' + '<input type=\"text\" class=\"form-control\" id=\"role\" value=\"admin\" readonly>',\r\n    focusConfirm: false,\r\n    preConfirm: () => {\r\n      return [\r\n        document.getElementById('fullname').value,\r\n        document.getElementById('username').value,\r\n        document.getElementById('race').value,\r\n        document.getElementById('age').value,\r\n        document.getElementById('role').value,\r\n        document.getElementById('laptopId').value,\r\n        document.getElementById('gender').value\r\n      ]\r\n    }\r\n  })\r\n\r\n  if (formValues) {\r\n    try {\r\n\r\n      var formData = JSON.stringify({\r\n        fullname: formValues[0],\r\n        username: formValues[1],\r\n        race: formValues[2],\r\n        age: formValues[3],\r\n        role: formValues[4],\r\n        laptop_id: formValues[5],\r\n        gender: formValues[6],\r\n        region_id: 0,\r\n        set_id: 0\r\n      });\r\n      const accountCreate = await fetch(`"
    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"url","hash":{},"data":data}) : helper)))
    + "profile/${username}/edit`, {\r\n        method: \"post\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `bearer ${sessionStorage.getItem(\"token\")}`,\r\n          'Cache-Control': 'no-cache'\r\n        },\r\n        body: formData\r\n      });\r\n      \r\n      const created = await accountCreate.json();\r\n        if (created.status) {\r\n          Swal.fire({\r\n            title: \"Congratulation\",\r\n            text: \"Successfully Created\",\r\n            type: \"success\"\r\n          }).then(result => {\r\n            if (result.value) {\r\n              window.location.reload();\r\n            }\r\n          });\r\n        } else {\r\n          Swal.fire({\r\n            title: \"Fail\",\r\n            text: \"Please refill the form\",\r\n            type: \"error\"\r\n          });\r\n        }\r\n    } catch (err) {\r\n      console.log(err)\r\n      Swal.fire(\"Something went wrong\", err.message, \"error\");\r\n    }\r\n  }\r\n  }\r\n\r\n  async function del(username) {\r\n    try {\r\n\r\n      const req = await swal.fire({\r\n        title: \"Are you sure?\",\r\n        type: \"warning\",\r\n        showCancelButton: true,\r\n        confirmButtonColor: \"#DD6B55\",\r\n        confirmButtonText: \"Yes, delete it!\",\r\n        cancelButtonText: \"No, cancel please!\"\r\n      })\r\n\r\n      const status = await req;\r\n\r\n      if (status.value) {\r\n        const res = await fetch(`"
    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"url","hash":{},"data":data}) : helper)))
    + "profile/${username}/delete`, {\r\n          method: \"get\",\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-type\": \"application/json\",\r\n            Authorization: `bearer ${sessionStorage.getItem(\"token\")}`,\r\n            'Cache-Control': 'no-cache'\r\n          }\r\n\r\n        });\r\n\r\n        const deleted = await res;\r\n        if(deleted.status) {\r\n        swal.fire(\"Admin\",\"Successfully deleted\", \"success\")\r\n          .then(result => {\r\n            if (result.value) {\r\n              window.location.reload();\r\n            }\r\n          });\r\n        }\r\n        }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n</script>\r\n";
},"useData":true});

this["Template"]["templates"]["userOperator"] = Handlebars.template({"1":function(container,depth0,helpers,partials,data) {
    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3="function", alias4=container.escapeExpression;

  return "                <tr class=\"gradeA\">\r\n                  <td><input type=\"checkbox\" name=\""
    + alias4(((helper = (helper = helpers.username || (depth0 != null ? depth0.username : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"username","hash":{},"data":data}) : helper)))
    + "\"></td>\r\n                  <td>"
    + alias4(((helper = (helper = helpers.fullname || (depth0 != null ? depth0.fullname : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"fullname","hash":{},"data":data}) : helper)))
    + "</td>\r\n                  <td>"
    + alias4(((helper = (helper = helpers.username || (depth0 != null ? depth0.username : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"username","hash":{},"data":data}) : helper)))
    + "</td>\r\n                  <td>"
    + alias4(((helper = (helper = helpers.age || (depth0 != null ? depth0.age : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"age","hash":{},"data":data}) : helper)))
    + "</td>\r\n                  <td>"
    + alias4(((helper = (helper = helpers.gender || (depth0 != null ? depth0.gender : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"gender","hash":{},"data":data}) : helper)))
    + "</td>\r\n                  <td>"
    + alias4(((helper = (helper = helpers.race || (depth0 != null ? depth0.race : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"race","hash":{},"data":data}) : helper)))
    + "</td>\r\n                  <td>"
    + alias4(((helper = (helper = helpers.laptop_id || (depth0 != null ? depth0.laptop_id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"laptop_id","hash":{},"data":data}) : helper)))
    + "</td>\r\n                  <td>\r\n                      "
    + alias4((helpers.printRegion || (depth0 && depth0.printRegion) || alias2).call(alias1,{"name":"printRegion","hash":{"regions":(depth0 != null ? depth0.regions : depth0),"oper":(depth0 != null ? depth0.oper : depth0)},"data":data}))
    + "\r\n                  </td>                  \r\n                  <td>"
    + alias4((helpers.printSet || (depth0 && depth0.printSet) || alias2).call(alias1,{"name":"printSet","hash":{"ques":(depth0 != null ? depth0.ques : depth0),"oper":(depth0 != null ? depth0.oper : depth0)},"data":data}))
    + "</td>\r\n                  <td class=\"actions\">\r\n                    <button class=\"btn btn-sm btn-icon btn-pure btn-default on-default m-r-5 button-edit\"\r\n                      data-toggle=\"tooltip\" data-original-title=\"Edit\" onclick=\"edit('"
    + ((stack1 = ((helper = (helper = helpers.username || (depth0 != null ? depth0.username : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"username","hash":{},"data":data}) : helper))) != null ? stack1 : "")
    + "')\"><i\r\n                        class=\"icon-pencil\" aria-hidden=\"true\"></i></button>\r\n                    <button id=\"delete\" class=\"btn btn-sm btn-icon btn-pure btn-default on-default button-remove\"\r\n                      data-toggle=\"tooltip\" data-original-title=\"Remove\" onclick=\"del('"
    + ((stack1 = ((helper = (helper = helpers.username || (depth0 != null ? depth0.username : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"username","hash":{},"data":data}) : helper))) != null ? stack1 : "")
    + "')\"><i\r\n                        class=\"icon-trash\" aria-hidden=\"true\"></i></button>\r\n                    <button title=\"change password\" data-toggle=\"modal\" data-username=\""
    + alias4(((helper = (helper = helpers.username || (depth0 != null ? depth0.username : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"username","hash":{},"data":data}) : helper)))
    + "\" data-target=\"#changePasswordModal\" class=\"btn ml-1 btn-icon btn-pure btn-default passwordModalButton\">\r\n                      <i class=\"fa fa-key\"></i>\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n";
},"3":function(container,depth0,helpers,partials,data) {
    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3="function", alias4=container.escapeExpression;

  return "              <option value=\""
    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"id","hash":{},"data":data}) : helper)))
    + "\">"
    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"name","hash":{},"data":data}) : helper)))
    + "</option>\r\n";
},"5":function(container,depth0,helpers,partials,data) {
    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3="function", alias4=container.escapeExpression;

  return "            <option value=\""
    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"id","hash":{},"data":data}) : helper)))
    + "\">"
    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"name","hash":{},"data":data}) : helper)))
    + "</option>\r\n";
},"7":function(container,depth0,helpers,partials,data) {
    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3="function", alias4=container.escapeExpression;

  return "            <option value=\""
    + alias4(((helper = (helper = helpers.set_id || (depth0 != null ? depth0.set_id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"set_id","hash":{},"data":data}) : helper)))
    + "\">"
    + alias4(((helper = (helper = helpers.set_name || (depth0 != null ? depth0.set_name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"set_name","hash":{},"data":data}) : helper)))
    + "</option>\r\n";
},"9":function(container,depth0,helpers,partials,data) {
    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3="function", alias4=container.escapeExpression;

  return "          <option ${\""
    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"id","hash":{},"data":data}) : helper)))
    + "\" == nameList.region_id ? 'selected' : ''} value=\""
    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"id","hash":{},"data":data}) : helper)))
    + "\">"
    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"name","hash":{},"data":data}) : helper)))
    + "</option>\r\n";
},"11":function(container,depth0,helpers,partials,data) {
    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3="function", alias4=container.escapeExpression;

  return "          <option ${\""
    + alias4(((helper = (helper = helpers.set_id || (depth0 != null ? depth0.set_id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"set_id","hash":{},"data":data}) : helper)))
    + "\" == nameList.set_id ? 'selected' : ''} value=\""
    + alias4(((helper = (helper = helpers.set_id || (depth0 != null ? depth0.set_id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"set_id","hash":{},"data":data}) : helper)))
    + "\">"
    + alias4(((helper = (helper = helpers.set_name || (depth0 != null ? depth0.set_name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"set_name","hash":{},"data":data}) : helper)))
    + "</option>\r\n";
},"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3="function", alias4=container.escapeExpression;

  return "<style>\r\n  td, select#race { text-transform: lowercase; }\r\n  td:first-letter { text-transform: uppercase; }\r\n  select#race:first-letter { text-transform: uppercase; }\r\n  #addrowExample_filter, #editRegions { float: right; }\r\n\r\n</style>\r\n<div class=\"block-header\">\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-5 col-md-8 col-sm-12\">\r\n      <h2>Operator</h2>\r\n    </div>\r\n    <div class=\"col-lg-7 col-md-4 col-sm-12 text-right\">\r\n      <ul class=\"breadcrumb justify-content-end\">\r\n        <li class=\"breadcrumb-item\"><a href=\"index.html\"><i class=\"icon-home\"></i></a></li>\r\n        <li class=\"breadcrumb-item\">Tetapan</li>\r\n        <li class=\"breadcrumb-item active\">Operator</li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"row clearfix\">\r\n  <div class=\"col-lg-12\">\r\n    <div class=\"card\">\r\n      <div class=\"header\">\r\n        <h2>List of Operators</h2>\r\n      </div>\r\n      <div class=\"body\">\r\n        <div class=\"row\">\r\n          <div class=\"col-sm-12 col-md-6\">\r\n            <button id=\"add\" onclick=\"add()\" class=\"btn btn-primary m-b-15\" type=\"button\">\r\n              <i class=\"icon wb-plus\" aria-hidden=\"true\"></i> New Operator\r\n            </button>    \r\n          </div>\r\n          <div class=\"col-sm-12 col-md-6\">\r\n            <button id=\"editRegions\" class=\"btn m-b-15\" onclick=\"editRegions()\" type=\"button\" disabled>Edit Region</button>\r\n          </div>\r\n        </div>\r\n        <div class=\"table-responsive\">\r\n          <table class=\"table table-bordered table-hover table-striped datatable\" id=\"addrowExample\">\r\n            <thead>\r\n              <tr>\r\n                <th></th>\r\n                <th>Full Name</th>\r\n                <th>Username</th>\r\n                <th>Age</th>\r\n                <th>Gender</th>\r\n                <th>Race</th>\r\n                <th>Laptop ID</th>\r\n                <th>Region</th>\r\n                <th>Set Name</th>\r\n                <th style=\"text-align: center;\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n"
    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.oper : depth0),{"name":"each","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
    + "            </tbody>\r\n            <tfoot>\r\n              <tr>\r\n                <th></th>\r\n                <th>Full Name</th>\r\n                <th>Username</th>\r\n                <th>Age</th>\r\n                <th>Gender</th>\r\n                <th>Race</th>\r\n                <th>Laptop ID</th>\r\n                <th>Region</th>\r\n                <th>Set Name</th>\r\n                <th style=\"text-align: center;\">Actions</th>\r\n              </tr>\r\n            </tfoot>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"modal fade\" id=\"changePasswordModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"changePasswordLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\" id=\"changePasswordLabel\">Change Password</h5>\r\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </div>\r\n      <form id=\"changePasswordForm\">\r\n        <div class=\"modal-body\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-12\">\r\n              <div class=\"form-input\">\r\n                <label for=\"password1\" class=\"col-form-label\">Password</label>\r\n                <input type=\"password\" id=\"password1\" class=\"form-control\">\r\n              </div>\r\n              <div class=\"form-input\">\r\n                <label for=\"password2\" class=\"col-form-label\">Repeat-password</label>\r\n                <input type=\"password\" id=\"password2\" class=\"form-control\">\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" id=\"closeChangePassword\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\r\n          <button type=\"submit\" class=\"btn btn-primary\">Save changes</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n<script>\r\n\r\n  $(document).ready(function() {\r\n    $('#addrowExample').click(function(){\r\n        var val = [];\r\n        $(':checkbox:checked').each(function(i){\r\n          val[i] = $(this).val();\r\n        });\r\n        if(val.length < 1) {\r\n          $(\"#editRegions\").attr(\"disabled\", true);\r\n          console.log(\"tak lepas\")\r\n        } else {\r\n          $(\"#editRegions\").attr(\"disabled\", false);\r\n        }\r\n      }); \r\n    const passwordForm = $('form#changePasswordForm')\r\n    const passwordButton = $('button.passwordModalButton')\r\n\r\n    let currentUser = null\r\n\r\n    passwordButton.click(function(e) {\r\n      currentUser = $(this).data('username')\r\n    })\r\n    passwordForm.submit(async function(e) {\r\n      e.preventDefault()\r\n      const password1 = $(this).find('#password1').val().trim()\r\n      const password2 = $(this).find('#password2').val().trim()\r\n      const username = currentUser.trim()\r\n      if (!password1 && !password2)\r\n        return Swal.fire('Ouupss..', 'Password cannot be blank', 'error')\r\n\r\n      if (password1.length < 5) \r\n        return Swal.fire('Ouupss..', 'Password cannot be less than 5', 'error')\r\n        \r\n      if (password1 !== password2)\r\n        return Swal.fire('Ouupss..', 'Password not match', 'error')\r\n      \r\n      const changeRes = await fetch(`"
    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"url","hash":{},"data":data}) : helper)))
    + "profile/${username}/change_password`, {\r\n        method: 'put',\r\n        headers: {\r\n          'Authorization': `bearer ${sessionStorage.getItem('token')}`,\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n          'Cache-Control': 'no-cache'\r\n        },\r\n        body: JSON.stringify({\r\n          password1,\r\n          password2\r\n        })\r\n      })\r\n\r\n      if (changeRes.status === 401)\r\n        return Swal.fire('Ouupss..', 'Not Authorized', 'error')\r\n          .then(() => window.location.href = 'js/pages/page-login.html')\r\n        \r\n\r\n      const res = await changeRes.json()\r\n\r\n      if (res.status)\r\n        return Swal.fire('Successful', 'Password has been changed', 'success')\r\n        .then(() => passwordForm.find('button#closeChangePassword').click())\r\n    })\r\n  })\r\n\r\n  sessionStorage.getItem(\"role\") === \"supervisor\" ? $(\"#add, #delete\").hide() : $(\"#add, #delete\").show();\r\n  $(document).ready(() => {\r\n    $(\"table.datatable\").dataTable();\r\n  })\r\n\r\n\r\n  async function editRegions() {\r\n    try {\r\n      var val = [];\r\n      $(':checkbox:checked').each(function(i){\r\n        val[i] = $(this).attr('name');\r\n      });\r\n      const { value } = await Swal.fire({\r\n          title: 'Add new operator',\r\n          html: '<br/>' + `\r\n          <select name=\"region_id\" id=\"region_id\" class=\"form-control\">\r\n          <option value=\"\">-- SELECT REGION --</option>\r\n"
    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.regions : depth0),{"name":"each","hash":{},"fn":container.program(3, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
    + "          </select><br/>`,\r\n          focusConfirm: false,\r\n          preConfirm: () => {\r\n            return [\r\n              document.getElementById('region_id').value\r\n            ]\r\n          }\r\n        });\r\n\r\n      if (value) {\r\n        try {\r\n          const region_id = value[0]; \r\n          var formData = JSON.stringify({\r\n            users: val\r\n          });\r\n          const assigning = await fetch(`"
    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"url","hash":{},"data":data}) : helper)))
    + "profiles/assign_region/${region_id}`, {\r\n            method: \"post\",\r\n            headers: {\r\n              Authorization: `bearer ${sessionStorage.getItem(\"token\")}`,\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              'Cache-Control': 'no-cache'\r\n            },\r\n            body: formData\r\n          });\r\n\r\n          const assigned = await assigning.json();\r\n\r\n          if (assigned.status) {\r\n            Swal.fire({\r\n              title: \"Congratulation\",\r\n              text: \"Successfully Assigned\",\r\n              type: \"success\"\r\n            }).then(result => {\r\n              if (result.value) {\r\n                window.location.reload(true);\r\n              }\r\n            });\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Fail\",\r\n              text: \"Please re-assigned the regions\",\r\n              type: \"error\"\r\n            });\r\n          }\r\n        } catch (err) {\r\n          Swal.fire(\"Something went wrong\", err.message, \"error\");\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  async function add() {\r\n\r\n    try {\r\n      var operator = "
    + ((stack1 = (helpers.json || (depth0 && depth0.json) || alias2).call(alias1,(depth0 != null ? depth0.oper : depth0),{"name":"json","hash":{},"data":data})) != null ? stack1 : "")
    + "\r\n      var used_id = operator.map(res => res.laptop_id);\r\n      var laptopId = [\"L001\",\"L002\",\"L003\",\"L004\",\"L005\",\"L006\",\"L007\",\"L008\",\"L009\",\"L010\",\"L011\",\"L012\",\"L013\",\"L014\",\"L015\",\"L016\",\"L017\",\"L018\",\"L019\",\"L020\"];\r\n      const id = laptopId.filter(function(e) {\r\n      return this.indexOf(e) < 0;\r\n      },\r\n      used_id); //filter id yang belum guna\r\n      var available_id = '<select class=\"form-control\" id=\"laptopId\">';\r\n      id.forEach(id => {\r\n        let option = '<option value=\"' + id + '\">' + id + '</option>';\r\n        available_id = available_id + option;\r\n      })\r\n      available_id = available_id + '</select><br/>';\r\n      const { value } = await Swal.fire({\r\n        title: 'Add new operator',\r\n        html: '<br/><input type=\"text\" class=\"form-control\" id=\"fullname\" placeholder=\"Enter full name\"><br/>' + '<input type=\"text\" class=\"form-control\" id=\"username\" placeholder=\"Enter username\"><br/>' + '<input type=\"password\" class=\"form-control\" id=\"password\" placeholder=\"Enter password\"><br/>' + '<input type=\"age\" class=\"form-control\" id=\"age\" placeholder=\"Enter age\"><br/>' + '<select class=\"form-control\" id=\"gender\">' + '<option selected value=\"\" disabled>Select gender</option>' + '<option value=\"Male\">Male</option>' + '<option value=\"Female\">Female</option></select><br/>' + '<select class=\"form-control\" id=\"race\">' + '<option selected value=\"\" disabled>Select race</option>' + '<option value=\"Melayu\">Melayu</option>' + '<option value=\"Cina\">Cina</option>' + '<option value=\"Penan\">Penan</option>' + '<option value=\"Iban\">Iban/Sea Dayak</option>' + '<option value=\"Bumiputra\">Bumiputra Sarawak</option></select><br/>' + `\r\n        <select name=\"region_id\" id=\"region_id\" class=\"form-control\">\r\n        <option value=\"\">-- SELECT REGION --</option>\r\n"
    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.regions : depth0),{"name":"each","hash":{},"fn":container.program(5, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
    + "        </select> <br/>` + available_id + \r\n        `<select name=\"set_id\" id=\"set_id\" class=\"form-control\">\r\n          <option value=\"\">-- SELECT SET --</option>\r\n"
    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.ques : depth0),{"name":"each","hash":{},"fn":container.program(7, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
    + "        </select><br/><input type=\"text\" class=\"form-control\" id=\"role\" value=\"operator\" readonly>`,\r\n        focusConfirm: false,\r\n        preConfirm: () => {\r\n          return [\r\n            document.getElementById('fullname').value,\r\n            document.getElementById('username').value,\r\n            document.getElementById('race').value,\r\n            document.getElementById('age').value,\r\n            document.getElementById('role').value,\r\n            document.getElementById('laptopId').value,\r\n            document.getElementById('gender').value,\r\n            document.getElementById('password').value,\r\n            document.getElementById('region_id').value,\r\n            document.getElementById('set_id').value\r\n          ]\r\n        }\r\n      })\r\n\r\n      if (value) {\r\n        try {\r\n          var formData = JSON.stringify({\r\n            fullname: value[0],\r\n            username: value[1],\r\n            race: value[2],\r\n            age: value[3],\r\n            role: value[4],\r\n            laptop_id: value[5],\r\n            gender: value[6],\r\n            password: value[7],\r\n            region_id: value[8]\r\n          });\r\n          const accountCreate = await fetch(`"
    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"url","hash":{},"data":data}) : helper)))
    + "registration`, {\r\n            method: \"post\",\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              'Cache-Control': 'no-cache'\r\n            },\r\n            body: formData\r\n          });\r\n\r\n          const created = await accountCreate.json();\r\n\r\n          if (created.insertstatus) {\r\n            Swal.fire({\r\n              title: \"Congratulation\",\r\n              text: \"Successfully Created\",\r\n              type: \"success\"\r\n            }).then(result => {\r\n              if (result.value) {\r\n                window.location.reload(true);\r\n              }\r\n            });\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Fail\",\r\n              text: \"Please refill the registration form\",\r\n              type: \"error\"\r\n            });\r\n          }\r\n        } catch (err) {\r\n          Swal.fire(\"Something went wrong\", err.message, \"error\");\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n\r\n  }\r\n\r\n\r\n  async function edit(username) {\r\n    try {\r\n      var operator = "
    + ((stack1 = (helpers.json || (depth0 && depth0.json) || alias2).call(alias1,(depth0 != null ? depth0.oper : depth0),{"name":"json","hash":{},"data":data})) != null ? stack1 : "")
    + "\r\n\r\n      const nameList = operator.filter(profiles => username === profiles.username);\r\n      var used_id = operator.map(res => res.laptop_id);\r\n      var laptopId = [\"L001\",\"L002\",\"L003\",\"L004\",\"L005\",\"L006\",\"L007\",\"L008\",\"L009\",\"L010\",\"L011\",\"L012\",\"L013\",\"L014\",\"L015\",\"L016\",\"L017\",\"L018\",\"L019\",\"L020\"];\r\n      const id = laptopId.filter(function(e) {\r\n      return this.indexOf(e) < 0;\r\n      },\r\n      used_id); //filter id yang belum guna\r\n      var available_id = '<select class=\"form-control\" id=\"laptopId\">';\r\n      var selected = '<option value=\"' + nameList[0].laptop_id + '\" selected>' + nameList[0].laptop_id + '</option>'; // selected laptop id\r\n      available_id = available_id + selected;\r\n      id.forEach(id => {\r\n        let option = '<option value=\"' + id + '\">' + id + '</option>';\r\n        available_id = available_id + option;\r\n      })\r\n      available_id = available_id + '</select>';\r\n\r\n      var token = sessionStorage.getItem(\"role\");\r\n      let value = null\r\n\r\n      if(token === \"admin\") {\r\n      value = await Swal.fire({\r\n          title: 'Edit operator',\r\n          html: editForm(nameList[0], available_id, token),\r\n          focusConfirm: false,\r\n          preConfirm: () => {\r\n            return [\r\n                document.getElementById('fullname').value,\r\n                document.getElementById('username').value,\r\n                document.getElementById('race').value,\r\n                document.getElementById('age').value,\r\n                document.getElementById('role').value,\r\n                document.getElementById('laptopId').value,\r\n                document.getElementById('gender').value,\r\n                document.getElementById('region_id').value,\r\n                document.getElementById('set_id').value\r\n            ]\r\n          }\r\n        })\r\n      } else {\r\n        value = await Swal.fire({\r\n          title: 'Edit operator',\r\n          html: editForm(nameList[0], available_id, token),\r\n          focusConfirm: false,\r\n          preConfirm: () => {\r\n            return [\r\n                document.getElementById('fullname').value,\r\n                document.getElementById('username').value,\r\n                document.getElementById('race').value,\r\n                document.getElementById('age').value,\r\n                document.getElementById('role').value,\r\n                document.getElementById('laptopId').value,\r\n                document.getElementById('gender').value,\r\n                document.getElementById('region_id').value,\r\n                document.getElementById('set_id').value\r\n            ]\r\n          }\r\n        })\r\n      }\r\n\r\n      const {value:val} = value;\r\n\r\n      if (val) {\r\n        var formData = JSON.stringify({\r\n            fullname: val[0],\r\n            username: val[1],\r\n            race: val[2],\r\n            age: val[3],\r\n            role: val[4],\r\n            laptop_id: val[5],\r\n            gender: val[6],\r\n            region_id: val[7],\r\n            set_id: val[8]\r\n        });\r\n\r\n        const accountCreate = await fetch(`"
    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"url","hash":{},"data":data}) : helper)))
    + "profile/${username}/edit`, {\r\n          method: \"post\",\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `bearer ${sessionStorage.getItem(\"token\")}`,\r\n            'Cache-Control': 'no-cache'\r\n          },\r\n          body: formData\r\n        });\r\n        const created = await accountCreate.json();\r\n\r\n        if (created.status) {\r\n          Swal.fire({\r\n            title: \"Congratulation\",\r\n            text: \"Successfully Editted\",\r\n            type: \"success\"\r\n          }).then(result => {\r\n            if (result.value) {\r\n              window.location.reload(true);\r\n            }\r\n          });\r\n        } else {\r\n          Swal.fire({\r\n            title: \"Fail\",\r\n            text: \"Please refill the form\",\r\n            type: \"error\"\r\n          });\r\n        }\r\n      }\r\n    } catch (err){\r\n      console.log(err)}\r\n  }\r\n\r\n  async function del(username) {\r\n    try {\r\n      const req = await swal.fire({\r\n        title: \"Are you sure?\",\r\n        type: \"warning\",\r\n        showCancelButton: true,\r\n        confirmButtonColor: \"#DD6B55\",\r\n        confirmButtonText: \"Yes, delete it!\",\r\n        cancelButtonText: \"No, cancel please!\"\r\n      })\r\n\r\n      const status = await req;\r\n\r\n      if(status.value) {\r\n          const res = await fetch(`"
    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"url","hash":{},"data":data}) : helper)))
    + "profile/${username}/delete`, {\r\n            method: \"get\",\r\n            headers: {\r\n                    Accept: \"application/json\",\r\n                    \"Content-type\": \"application/json\",\r\n                    Authorization: `bearer ${sessionStorage.getItem(\"token\")}`,\r\n                    'Cache-Control': 'no-cache'\r\n            }\r\n          });\r\n                \r\n          const deleted = await res;\r\n          swal.fire(\"Successfully deleted\", \"success\")\r\n          .then(result => {\r\n            if (result.value) {\r\n              window.location.reload(true);  \r\n            }\r\n          }); \r\n        }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  var editForm = (nameList, available_id, role) => {\r\n    return (`\r\n      <br/>\r\n      <input type=\"text\" placeholder=\"Full name\" class=\"form-control\" id=\"fullname\" value=\"${nameList.fullname}\" ${role === 'admin' ? '' : 'readonly'}>\r\n      <br/>\r\n      <input type=\"text\" placeholder=\"Username\" class=\"form-control\" id=\"username\" value=\"${nameList.username}\" readonly>\r\n      <br/>\r\n      <input type=\"text\" placeholder=\"Age\" class=\"form-control\" id=\"age\" value=\"${nameList.age}\" ${role === 'admin' ? '' : 'readonly'}>\r\n      <br/>\r\n      ${role === 'admin' ? `\r\n        <select name=\"gender\" id=\"gender\" class=\"form-control\">\r\n          <option value=\"\">-- SELECT GENDER --</option>\r\n          <option class=\"text-capitalize\" ${nameList.gender === 'male' ? 'selected': ''} value=\"male\">Male</option>\r\n          <option class=\"text-capitalize\" ${nameList.gender === 'female' ? 'selected': ''} value=\"female\">Female</option>\r\n        </select>\r\n      ` : `\r\n        <input type=\"text\" value=\"${nameList.gender}\" id=\"gender\" name=\"gender\" class=\"form-control text-capitalize\" readonly>\r\n      `}\r\n      \r\n      <br>\r\n      <input type=\"text\" class=\"form-control\" placeholder=\"Race\" id=\"race\" value=\"${nameList.race}\" ${role === 'admin' ? '': 'readonly'}>\r\n      <br/>\r\n      <select name=\"region_id\" id=\"region_id\" class=\"form-control\">\r\n        <option value=\"\">-- SELECT REGION --</option>\r\n"
    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.regions : depth0),{"name":"each","hash":{},"fn":container.program(9, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
    + "      </select><br/>`\r\n      + available_id +\r\n      `<br/>\r\n      <select name=\"set_id\" id=\"set_id\" class=\"form-control\">\r\n        <option value=\"\">-- SELECT SET --</option>\r\n"
    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.ques : depth0),{"name":"each","hash":{},"fn":container.program(11, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
    + "      </select><br/>\r\n      <input type=\"text\" class=\"form-control\" id=\"role\" value=\"operator\" readonly>\r\n    `)\r\n  };\r\n</script>";
},"useData":true});

this["Template"]["templates"]["userSupervisor"] = Handlebars.template({"1":function(container,depth0,helpers,partials,data) {
    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3="function", alias4=container.escapeExpression;

  return "                <tr class=\"gradeA\">\r\n                  <td>"
    + alias4(((helper = (helper = helpers.fullname || (depth0 != null ? depth0.fullname : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"fullname","hash":{},"data":data}) : helper)))
    + "</td>\r\n                  <td>"
    + alias4(((helper = (helper = helpers.username || (depth0 != null ? depth0.username : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"username","hash":{},"data":data}) : helper)))
    + "</td>\r\n                  <td>"
    + alias4(((helper = (helper = helpers.age || (depth0 != null ? depth0.age : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"age","hash":{},"data":data}) : helper)))
    + "</td>\r\n                  <td>"
    + alias4(((helper = (helper = helpers.gender || (depth0 != null ? depth0.gender : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"gender","hash":{},"data":data}) : helper)))
    + "</td>\r\n                  <td>"
    + alias4(((helper = (helper = helpers.race || (depth0 != null ? depth0.race : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"race","hash":{},"data":data}) : helper)))
    + "</td>\r\n                  <td class=\"actions\">\r\n                    <button class=\"btn btn-sm btn-icon btn-pure btn-default on-default m-r-5 button-edit\"\r\n                      data-toggle=\"tooltip\" data-original-title=\"Edit\" onclick=\"edit('"
    + ((stack1 = ((helper = (helper = helpers.username || (depth0 != null ? depth0.username : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"username","hash":{},"data":data}) : helper))) != null ? stack1 : "")
    + "')\"><i\r\n                        class=\"icon-pencil\" aria-hidden=\"true\"></i></button>\r\n                    <button class=\"btn btn-sm btn-icon btn-pure btn-default on-default button-remove\"\r\n                      data-toggle=\"tooltip\" data-original-title=\"Remove\" onclick=\"del('"
    + ((stack1 = ((helper = (helper = helpers.username || (depth0 != null ? depth0.username : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"username","hash":{},"data":data}) : helper))) != null ? stack1 : "")
    + "')\"><i\r\n                        class=\"icon-trash\" aria-hidden=\"true\"></i></button>\r\n                    <button title=\"change password\" data-toggle=\"modal\" data-username=\""
    + alias4(((helper = (helper = helpers.username || (depth0 != null ? depth0.username : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"username","hash":{},"data":data}) : helper)))
    + "\" data-target=\"#changePasswordModal\" class=\"btn ml-1 btn-icon btn-pure btn-default passwordModalButton\">\r\n                      <i class=\"fa fa-key\"></i>\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n";
},"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3="function", alias4=container.escapeExpression;

  return "<div class=\"block-header\">\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-5 col-md-8 col-sm-12\">\r\n      <h2>Supervisor</h2>\r\n    </div>\r\n    <div class=\"col-lg-7 col-md-4 col-sm-12 text-right\">\r\n      <ul class=\"breadcrumb justify-content-end\">\r\n        <li class=\"breadcrumb-item\"><a href=\"index.html\"><i class=\"icon-home\"></i></a></li>\r\n        <li class=\"breadcrumb-item\">Tetapan</li>\r\n        <li class=\"breadcrumb-item active\">Supervisor</li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"row clearfix\">\r\n  <div class=\"col-lg-12\">\r\n    <div class=\"card\">\r\n      <div class=\"header\">\r\n        <h2>Senarai Supervisor</h2>\r\n      </div>\r\n      <div class=\"body\">\r\n        <button onclick=\"add()\" id=\"addToTable\" class=\"btn btn-primary m-b-15\" type=\"button\">\r\n          <i class=\"icon wb-plus\" aria-hidden=\"true\"></i> Tambah Supervisor\r\n        </button>\r\n        <div class=\"table-responsive\">\r\n          <table class=\"table table-bordered table-hover table-striped datatable\" id=\"addrowExample\">\r\n            <thead>\r\n              <tr>\r\n                <th>Full Name</th>\r\n                <th>Username</th>\r\n                <th>Age</th>\r\n                <th>Gender</th>\r\n                <th>Race</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n\r\n"
    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.oper : depth0),{"name":"each","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
    + "            </tbody>\r\n            <tfoot>\r\n              <tr>\r\n                <th>Full Name</th>\r\n                <th>Username</th>\r\n                <th>Age</th>\r\n                <th>Gender</th>\r\n                <th>Race</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </tfoot>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"modal fade\" id=\"changePasswordModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"changePasswordLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\" id=\"changePasswordLabel\">Change Password</h5>\r\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </div>\r\n      <form id=\"changePasswordForm\">\r\n        <div class=\"modal-body\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-12\">\r\n              <div class=\"form-input\">\r\n                <label for=\"password1\" class=\"col-form-label\">Password</label>\r\n                <input type=\"password\" id=\"password1\" class=\"form-control\">\r\n              </div>\r\n              <div class=\"form-input\">\r\n                <label for=\"password2\" class=\"col-form-label\">Repeat-password</label>\r\n                <input type=\"password\" id=\"password2\" class=\"form-control\">\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" id=\"closeChangePassword\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\r\n          <button type=\"submit\" class=\"btn btn-primary\">Save changes</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n<script>\r\n\r\n  $(document).ready(() => {\r\n    $(\"table.datatable\").dataTable();\r\n    const passwordForm = $('form#changePasswordForm')\r\n    const passwordButton = $('button.passwordModalButton')\r\n\r\n    let currentUser = null\r\n\r\n    passwordButton.click(function(e) {\r\n      currentUser = $(this).data('username')\r\n    })\r\n    passwordForm.submit(async function(e) {\r\n      e.preventDefault()\r\n      const password1 = $(this).find('#password1').val().trim()\r\n      const password2 = $(this).find('#password2').val().trim()\r\n      const username = currentUser.trim()\r\n      if (!password1 && !password2)\r\n        return Swal.fire('Ouupss..', 'Password cannot be blank', 'error')\r\n\r\n      if (password1.length < 5) \r\n        return Swal.fire('Ouupss..', 'Password cannot be less than 5', 'error')\r\n        \r\n      if (password1 !== password2)\r\n        return Swal.fire('Ouupss..', 'Password not match', 'error')\r\n      \r\n      const changeRes = await fetch(`"
    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"url","hash":{},"data":data}) : helper)))
    + "profile/${username}/change_password`, {\r\n        method: 'put',\r\n        headers: {\r\n          'Authorization': `bearer ${sessionStorage.getItem('token')}`,\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n          'Cache-Control': 'no-cache'\r\n        },\r\n        body: JSON.stringify({\r\n          password1,\r\n          password2\r\n        })\r\n      })\r\n\r\n      if (changeRes.status === 401)\r\n        return Swal.fire('Ouupss..', 'Not Authorized', 'error')\r\n          .then(() => window.location.href = 'js/pages/page-login.html')\r\n        \r\n\r\n      const res = await changeRes.json()\r\n\r\n      if (res.status)\r\n        return Swal.fire('Successful', 'Password has been changed', 'success')\r\n        .then(() => passwordForm.find('button#closeChangePassword').click())\r\n    })\r\n  })\r\n\r\n  async function add() {\r\n    try {\r\n      const { value } = await Swal.fire({\r\n        title: 'Add new supervisor',\r\n        html: '<br/><input type=\"text\" class=\"form-control\" id=\"fullname\" placeholder=\"Enter full name\"><br/>' + '<input type=\"text\" class=\"form-control\" id=\"username\" placeholder=\"Enter username\"><br/>' + '<input type=\"password\" class=\"form-control\" id=\"password\" placeholder=\"Enter password\"><br/>' + '<input type=\"age\" class=\"form-control\" id=\"age\" placeholder=\"Enter age\"><br/>' + '<select class=\"form-control\" id=\"gender\">' + '<option selected value=\"\" disabled>Select gender</option>' + '<option value=\"Male\">Male</option>' + '<option value=\"Female\">Female</option></select><br/>' + '<select class=\"form-control\" id=\"race\">' + '<option selected value=\"\" disabled>Select race</option>' + '<option value=\"Melayu\">Melayu</option>' + '<option value=\"Cina\">Cina</option>' + '<option value=\"Penan\">Penan</option>' + '<option value=\"Iban\">Iban/Sea Dayak</option>' + '<option value=\"Bumiputra\">Bumiputra Sarawak</option></select><br/>' + '<input type=\"text\" class=\"form-control\" id=\"role\" value=\"supervisor\" readonly>',\r\n        focusConfirm: false,\r\n        preConfirm: () => {\r\n          return [\r\n            document.getElementById('fullname').value,\r\n            document.getElementById('username').value,\r\n            document.getElementById('race').value,\r\n            document.getElementById('age').value,\r\n            document.getElementById('gender').value,\r\n            document.getElementById('password').value\r\n          ]\r\n        }\r\n      })\r\n      \r\n      const val = await value;\r\n      if (val) {\r\n        try {\r\n          var formData = JSON.stringify({\r\n            fullname: val[0],\r\n            username: val[1],\r\n            race: val[2],\r\n            age: val[3],\r\n            role: \"supervisor\",\r\n            laptop_id: \"LS00\",\r\n            gender: val[4],\r\n            password: val[5],\r\n            region_id: null\r\n          });\r\n\r\n  ;\r\n\r\n          const accountCreate = await fetch(`"
    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"url","hash":{},"data":data}) : helper)))
    + "registration`, {\r\n            method: \"post\",\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              'Cache-Control': 'no-cache'\r\n            },\r\n            body: formData\r\n          });\r\n\r\n          const created = await accountCreate.json();\r\n          if (created.insertstatus) {\r\n            Swal.fire({\r\n              title: \"Congratulation\",\r\n              text: \"Successfully Created\",\r\n              type: \"success\"\r\n            }).then(result => {\r\n              if (result.value) {\r\n                window.location.reload();\r\n              }\r\n            });\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Fail\",\r\n              text: \"Please refill the registration form\",\r\n              type: \"error\"\r\n            });\r\n          }\r\n        } catch (err) {\r\n          Swal.fire(\"Something went wrong\", err.message, \"error\");\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n\r\n  }\r\n\r\n\r\n  async function edit(username) {\r\n    try {\r\n    var oper = "
    + ((stack1 = (helpers.json || (depth0 && depth0.json) || alias2).call(alias1,(depth0 != null ? depth0.oper : depth0),{"name":"json","hash":{},"data":data})) != null ? stack1 : "")
    + ";\r\n    const nameList = oper.filter(profiles => username === profiles.username);\r\n\r\n    const { value } = await Swal.fire({\r\n      title: 'Edit supervisor',\r\n      html: '<br/><input type=\"text\" class=\"form-control\" id=\"fullname\" value=\"' + nameList[0].fullname + '\"><br/>' + '<input type=\"text\" class=\"form-control\" id=\"username\" value=\"' + nameList[0].username + '\"readonly><br/>' + '<input type=\"password\" class=\"form-control\" id=\"password\" placeholder=\"' + nameList[0].password + '\"readonly><br/>' + '<input type=\"age\" class=\"form-control\" id=\"age\" value=\"' + nameList[0].age + '\"><br/>' + '<select class=\"form-control\" id=\"gender\">' + '<option selected value=\"'+ nameList[0].gender +'\" disabled>' + nameList[0].gender + '</option>' + '<option value=\"Male\">Male</option>' + '<option value=\"Female\">Female</option></select><br/>' + '<select class=\"form-control\" id=\"race\">' + '<option selected value=\"' + nameList[0].race + '\" disabled>' + nameList[0].race + '</option>' + '<option value=\"Melayu\">Melayu</option>' + '<option value=\"Cina\">Cina</option>' + '<option value=\"Penan\">Penan</option>' + '<option value=\"Iban\">Iban/Sea Dayak</option>' + '<option value=\"Bumiputra\">Bumiputra Sarawak</option></select><br/>' + '<input type=\"text\" class=\"form-control\" id=\"laptopId\" value=\"' + nameList[0].laptop_id + '\"><br/>' + '<input type=\"text\" class=\"form-control\" id=\"role\" value=\"supervisor\" readonly>',\r\n      focusConfirm: false,\r\n      preConfirm: () => {\r\n        return [\r\n          document.getElementById('fullname').value,\r\n          document.getElementById('username').value,\r\n          document.getElementById('race').value,\r\n          document.getElementById('age').value,\r\n          document.getElementById('laptopId').value,\r\n          document.getElementById('gender').value\r\n        ]\r\n      }\r\n    })\r\n\r\n  const val = await value;\r\n  if (val) {\r\n      var formData = JSON.stringify({\r\n        fullname: val[0],\r\n        username: val[1],\r\n        race: val[2],\r\n        age: val[3],\r\n        role: \"supervisor\",\r\n        laptop_id: val[4],\r\n        gender: val[5],\r\n        region_id: 0,\r\n        set_id: 0\r\n      });\r\n      const accountCreate = await fetch(`"
    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"url","hash":{},"data":data}) : helper)))
    + "profile/${username}/edit`, {\r\n        method: \"post\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `bearer ${sessionStorage.getItem(\"token\")}`,\r\n          'Cache-Control': 'no-cache'\r\n        },\r\n        body: formData\r\n      });\r\n      const created = await accountCreate.json();\r\n      if (created.status) {\r\n        Swal.fire({\r\n          title: \"Congratulation\",\r\n          text: \"Successfully Created\",\r\n          type: \"success\"\r\n        }).then(result => {\r\n          if (result.value) {\r\n            window.location.reload();\r\n          }\r\n        });\r\n      } else {\r\n        Swal.fire({\r\n          title: \"Fail\",\r\n          text: \"Please refill the form\",\r\n          type: \"error\"\r\n        });\r\n      }\r\n    } \r\n  } catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n\r\n  async function del(username) {\r\n    try {\r\n\r\n      const req = await swal.fire({\r\n        title: \"Are you sure?\",\r\n        type: \"warning\",\r\n        showCancelButton: true,\r\n        confirmButtonColor: \"#DD6B55\",\r\n        confirmButtonText: \"Yes, delete it!\",\r\n        cancelButtonText: \"No, cancel please!\"\r\n      })\r\n\r\n      const status = await req;\r\n\r\n      if (status.value) {\r\n        const res = await fetch(`"
    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"url","hash":{},"data":data}) : helper)))
    + "profile/${username}/delete`, {\r\n          method: \"get\",\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-type\": \"application/json\",\r\n            Authorization: `bearer ${sessionStorage.getItem(\"token\")}`,\r\n            'Cache-Control': 'no-cache'\r\n          }\r\n\r\n        });\r\n\r\n        const deleted = await res;\r\n        if(deleted.status){\r\n          swal.fire(\"Supervisor\",\"Successfully deleted\", \"success\")\r\n            .then(result => {\r\n              if (result.value) {\r\n                window.location.reload();\r\n              }\r\n            });\r\n      }\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n</script>\r\n";
},"useData":true});